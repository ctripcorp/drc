{"version":3,"sources":["webpack:///./src/views/drcclusters.vue?0c2b","webpack:///src/views/drcclusters.vue","webpack:///./src/views/drcclusters.vue?3dc0","webpack:///./src/views/drcclusters.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","staticStyle","columns","dataWithPage","handleSpan","scopedSlots","_u","key","fn","ref","row","index","on","$event","checkConfig","goToLink","previewRemoveConfig","total","current","size","handleChangeSize","model","value","cluster","modal","callback","$$v","$set","expression","minRows","maxRows","removeConfig","clearRemoveConfig","staticRenderFns","data","switchOneInfo","config","mhaAToBeRemoved","mhaBToBeRemoved","remove","mhaGroups","mergeColData","computed","end","mergeData","i","mergeCol","start","preI","methods","columnIndex","x","y","assembleData","forEach","names","includes","e","srcMha","push","nameNums","n","num","splice","indexOf","tmp","console","log","getMhaGroups","axios","get","val","destMha","$router","$Spin","show","h","then","delete","location","reload","moreOperation","name","query","handleBeforeChange","Promise","title","content","onOk","resolve","switchMonitor","mhaGroupIds","mhaGroupId","switchMonitors","switchStatus","post","status","res","created","component"],"mappings":"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","file":"js/chunk-2d213917.a2e3102c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/drcclusters\"}},[_vm._v(\"DRC集群\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{staticStyle:{\"padding\":\"1px 1px\"}},[_c('Table',{attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.dataWithPage,\"border\":\"\",\"span-method\":_vm.handleSpan},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.checkConfig(row, index)}}},[_vm._v(\"查看\")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToLink(row, index)}}},[_vm._v(\"修改\")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.previewRemoveConfig(row, index)}}},[_vm._v(\"删除\")])]}}])}),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin\":\"16px 0\"}},[_c('Page',{attrs:{\"transfer\":true,\"total\":_vm.total,\"current\":_vm.current,\"page-size\":_vm.size,\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function($event){_vm.current=$event},\"on-page-size-change\":_vm.handleChangeSize}})],1)],1),_c('Modal',{attrs:{\"title\":\"DRC配置\",\"width\":\"1200px\"},model:{value:(_vm.cluster.modal.config),callback:function ($$v) {_vm.$set(_vm.cluster.modal, \"config\", $$v)},expression:\"cluster.modal.config\"}},[_c('Form',{staticStyle:{\"width\":\"100%\"}},[_c('FormItem',{attrs:{\"label\":\"集群配置\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.cluster.config),callback:function ($$v) {_vm.$set(_vm.cluster, \"config\", $$v)},expression:\"cluster.config\"}})],1)],1)],1),_c('Modal',{attrs:{\"title\":\"删除DRC配置\",\"width\":\"1200px\"},on:{\"on-ok\":_vm.removeConfig,\"on-cancel\":_vm.clearRemoveConfig},model:{value:(_vm.cluster.modal.remove),callback:function ($$v) {_vm.$set(_vm.cluster.modal, \"remove\", $$v)},expression:\"cluster.modal.remove\"}},[_c('Form',{staticStyle:{\"width\":\"100%\"}},[_c('FormItem',{attrs:{\"label\":\"确认删除以下双向复制吗？\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.cluster.config),callback:function ($$v) {_vm.$set(_vm.cluster, \"config\", $$v)},expression:\"cluster.config\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/drcclusters\">DRC集群</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\n      <div style=\"padding: 1px 1px\">\n        <Table stripe :columns=\"columns\" :data=\"dataWithPage\" border :span-method=\"handleSpan\" >\n          <template slot-scope=\"{ row, index }\" slot=\"action\">\n            <Button type=\"success\" size=\"small\" style=\"margin-right: 5px\" @click=\"checkConfig(row, index)\">查看</Button>\n            <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToLink(row, index)\">修改</Button>\n            <Button type=\"error\" size=\"small\" style=\"margin-right: 5px\" @click=\"previewRemoveConfig(row, index)\">删除</Button>\n          </template>\n        </Table>\n        <div style=\"text-align: center;margin: 16px 0\">\n          <Page\n            :transfer=\"true\"\n            :total=\"total\"\n            :current.sync=\"current\"\n            :page-size=\"size\"\n            show-sizer\n            show-elevator\n            @on-page-size-change=\"handleChangeSize\"></Page>\n        </div>\n      </div>\n      <Modal\n        v-model=\"cluster.modal.config\"\n        title=\"DRC配置\"\n        width=\"1200px\">\n        <Form style=\"width: 100%\">\n          <FormItem label=\"集群配置\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"cluster.config\" readonly/>\n          </FormItem>\n        </Form>\n      </Modal>\n      <Modal\n        v-model=\"cluster.modal.remove\"\n        title=\"删除DRC配置\"\n        width=\"1200px\"\n        @on-ok=\"removeConfig\"\n        @on-cancel=\"clearRemoveConfig\">\n        <Form style=\"width: 100%\">\n          <FormItem label=\"确认删除以下双向复制吗？\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"cluster.config\" readonly/>\n          </FormItem>\n        </Form>\n      </Modal>\n    </Content>\n  </base-component>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      switchOneInfo: {},\n      cluster: {\n        config: '',\n        mhaAToBeRemoved: '',\n        mhaBToBeRemoved: '',\n        modal: {\n          config: false,\n          remove: false\n        }\n      },\n      columns: [\n        {\n          title: '序号',\n          width: 75,\n          align: 'center',\n          render: (h, params) => {\n            return h(\n              'span',\n              params.index + 1 + (this.current - 1) * this.size\n            )\n          }\n        },\n        {\n          title: '集群A',\n          key: 'srcMha'\n        },\n        {\n          title: '集群B',\n          key: 'destMha'\n        },\n        {\n          title: '状态',\n          key: 'drcEstablishStatus',\n          width: 100,\n          align: 'center',\n          render: (h, params) => {\n            const row = params.row\n            const color = row.drcEstablishStatus === 60 ? 'blue' : 'volcano'\n            const text = row.drcEstablishStatus === 60 ? '已接入' : '未接入'\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: '监控',\n          key: 'monitorSwitch',\n          align: 'center',\n          render: (h, params) => {\n            const row = params.row\n\n            return h('i-switch', {\n              props: {\n                size: 'large',\n                value: row.monitorSwitch === 1,\n                beforeChange: this.handleBeforeChange\n              },\n              scopedSlots: {\n                open: () => h('span', '开启'),\n                close: () => h('span', '关闭')\n              },\n              on: {\n                'on-change': () => {\n                  this.switchMonitor(row)\n                }\n              },\n              nativeOn: {\n                mousedown: () => { // 监听组件原生事件mousedown,此事件在click之前触发\n                  this.switchOneInfo = {\n                    monitorSwitch: row.monitorSwitch\n                  }\n                }\n              }\n            })\n          }\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          align: 'center'\n        }\n      ],\n      mhaGroups: [],\n      total: 0,\n      current: 1,\n      size: 10,\n      mergeColData: []\n    }\n  },\n  computed: {\n    dataWithPage () {\n      const data = this.mhaGroups\n      const mergeData = this.mergeColData\n      const start = this.current * this.size - this.size\n      let end = start + this.size\n      if (end >= this.total) {\n        end = this.total\n      }\n      for (let i = start; i < end; i++) {\n        if (mergeData[i] + i > end) {\n          data[i].mergeCol = end - i\n          // console.log('i: ' + i)\n          // console.log('data[i].mergeCol: ' + data[i].mergeCol)\n        } else {\n          data[i].mergeCol = mergeData[i]\n        }\n      }\n      if (start >= this.size) {\n        for (let preI = start - this.size; preI < start; preI++) {\n          // console.log('preI:' + preI)\n          // console.log('data[preI].mergeCol' + mergeData[preI])\n          if (mergeData[preI] + preI > start) {\n            data[start].mergeCol = mergeData[preI] + preI - start\n            break\n          }\n        }\n      }\n      // console.log('start: ' + start)\n      // console.log('end: ' + end)\n      return [...data].slice(start, end)\n    }\n  },\n  methods: {\n    handleSpan ({ row, column, rowIndex, columnIndex }) {\n      if (columnIndex === 1) {\n        const x = row.mergeCol === 0 ? 0 : row.mergeCol\n        const y = row.mergeCol === 0 ? 0 : 1\n        // console.log(x , y)\n        return [x, y]\n      }\n    },\n    assembleData (data) {\n      const names = []\n      data.forEach(e => {\n        if (!names.includes(e.srcMha)) {\n          names.push(e.srcMha)\n        }\n      })\n      const nameNums = []\n      names.forEach(e => {\n        nameNums.push({ srcMha: e, num: 0 })\n      })\n      data.forEach(e => {\n        nameNums.forEach(n => {\n          if (e.srcMha === n.srcMha) {\n            n.num++\n          }\n        })\n      })\n      data.forEach(e => {\n        nameNums.forEach(n => {\n          if (e.srcMha === n.srcMha) {\n            if (names.includes(e.srcMha)) {\n              e.mergeCol = n.num\n              this.mergeColData.push(e.mergeCol)\n              names.splice(names.indexOf(n.srcMha), 1)\n            } else {\n              e.mergeCol = 0\n              this.mergeColData.push(e.mergeCol)\n            }\n          }\n        })\n      })\n      const tmp = data\n      this.mhaGroups = tmp\n      console.log('assemble')\n    },\n    getMhaGroups () {\n      this.axios.get('/api/drc/v1/meta/orderedGroups/all')\n        .then(response => {\n          this.mhaGroups = response.data.data\n          this.total = this.mhaGroups.length\n          this.assembleData(this.mhaGroups)\n        })\n    },\n    handleChangeSize (val) {\n      this.size = val\n    },\n    goToLink (row, index) {\n      console.log('go to change config for ' + row.srcMha + ' and ' + row.destMha)\n      this.$router.push({ path: '/access', query: { step: '3', clustername: row.srcMha, newclustername: row.destMha } })\n    },\n    checkConfig (row, index) {\n      console.log(row.srcMha)\n      console.log(row.destMha)\n      this.$Spin.show({\n        render: (h) => {\n          return h('div', [\n            h('Icon', {\n              class: 'demo-spin-icon-load',\n              props: {\n                size: 18\n              }\n            }),\n            h('div', '请稍等...')\n          ])\n        }\n      })\n      this.axios.get('/api/drc/v1/meta/config/mhas/' + row.srcMha + ',' + row.destMha).then(response => {\n        const data = response.data.data\n        console.log(data)\n        this.cluster.config = data\n        this.$Spin.hide()\n        this.cluster.modal.config = true\n      })\n    },\n    previewRemoveConfig (row, index) {\n      console.log(row.srcMha)\n      console.log(row.destMha)\n      this.cluster.mhaAToBeRemoved = row.srcMha\n      this.cluster.mhaBToBeRemoved = row.destMha\n      this.$Spin.show({\n        render: (h) => {\n          return h('div', [\n            h('Icon', {\n              class: 'demo-spin-icon-load',\n              props: {\n                size: 18\n              }\n            }),\n            h('div', '请稍等...')\n          ])\n        }\n      })\n      this.axios.get('/api/drc/v1/meta/config/mhas/' + row.srcMha + ',' + row.destMha).then(response => {\n        const data = response.data.data\n        console.log(data)\n        this.cluster.config = data\n        this.$Spin.hide()\n        this.cluster.modal.remove = true\n      })\n    },\n    removeConfig () {\n      console.log('mhaAToBeRemoved', this.cluster.mhaAToBeRemoved)\n      console.log('mhaBToBeRemoved', this.cluster.mhaBToBeRemoved)\n      this.$Spin.show({\n        render: (h) => {\n          return h('div', [\n            h('Icon', {\n              class: 'demo-spin-icon-load',\n              props: {\n                size: 18\n              }\n            }),\n            h('div', '请稍等...')\n          ])\n        }\n      })\n      this.axios.delete('/api/drc/v1/meta/config/remove/mhas/' + this.cluster.mhaAToBeRemoved + ',' + this.cluster.mhaBToBeRemoved).then(response => {\n        const data = response.data.data\n        console.log(data)\n        if (data) {\n          location.reload()\n        }\n        this.$Spin.hide()\n      })\n      this.clearRemoveConfig()\n    },\n    clearRemoveConfig () {\n      console.log('clear mhaAToBeRemoved', this.cluster.mhaAToBeRemoved)\n      console.log('clear mhaBToBeRemoved', this.cluster.mhaBToBeRemoved)\n      this.cluster.mhaAToBeRemoved = ''\n      this.cluster.mhaBToBeRemoved = ''\n    },\n    moreOperation (row) {\n      this.$router.push({\n        name: 'incrementDataConsistencyCheck',\n        query: { clusterA: row.srcMha, clusterB: row.destMha }\n      })\n    },\n    handleBeforeChange () {\n      console.log('handleBeforeChange:', this.switchOneInfo)\n      return new Promise((resolve) => {\n        this.$Modal.confirm({\n          title: '切换确认',\n          content: '您确认要切换开关状态吗？',\n          onOk: () => {\n            resolve()\n          }\n        })\n      })\n    },\n    switchMonitor (row) {\n      const mhaGroupIds = []\n      mhaGroupIds.push(row.mhaGroupId)\n      const switchStatus = row.monitorSwitch === 0 ? 'on' : 'off'\n      this.switchMonitors(mhaGroupIds, switchStatus)\n    },\n    switchMonitors (mhaGroupIds, status) {\n      console.log(mhaGroupIds)\n      this.axios.post('/api/drc/v1/monitor/switches/' + status,\n        {\n          mhaGroupIds: mhaGroupIds\n        }\n      ).then(res => {\n        if (res.data.status === 0) {\n          console.log(status)\n          if (status === 'on') {\n            this.$Message.info('监控开启成功')\n          } else {\n            this.$Message.info('监控关闭成功')\n          }\n        } else {\n          this.$Message.info('监控操作失败')\n        }\n        this.getMhaGroups()\n      })\n    }\n  },\n  created () {\n    this.getMhaGroups()\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcclusters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcclusters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./drcclusters.vue?vue&type=template&id=4c88fc47&\"\nimport script from \"./drcclusters.vue?vue&type=script&lang=js&\"\nexport * from \"./drcclusters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}