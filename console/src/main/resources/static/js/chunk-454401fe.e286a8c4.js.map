{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./src/views/v2/meta/dbDrcBuildV2.vue?a779","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/v2/meta/dbDrcBuildV2.vue?36b9","webpack:///./src/components/v2/dbDrcBuild/tables.vue?7f5d","webpack:///./src/components/v2/dbDrcBuild/dbReplicationConfig.vue?e569","webpack:///./src/components/v2/dbDrcBuild/dbTablesPreview.vue?0f72","webpack:///src/components/v2/dbDrcBuild/dbTablesPreview.vue","webpack:///./src/components/v2/dbDrcBuild/dbTablesPreview.vue?33f5","webpack:///./src/components/v2/dbDrcBuild/dbTablesPreview.vue","webpack:///src/components/v2/dbDrcBuild/dbReplicationConfig.vue","webpack:///./src/components/v2/dbDrcBuild/dbReplicationConfig.vue?2f3b","webpack:///./src/components/v2/dbDrcBuild/dbReplicationConfig.vue","webpack:///src/components/v2/dbDrcBuild/tables.vue","webpack:///./src/components/v2/dbDrcBuild/tables.vue?af3c","webpack:///./src/components/v2/dbDrcBuild/tables.vue","webpack:///./src/components/v2/dbDrcBuild/mhaReplicationPanel.vue?a43d","webpack:///./src/components/v2/dbDrcBuild/mhaDbReplicationPanel.vue?891a","webpack:///src/components/v2/dbDrcBuild/mhaDbReplicationPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaDbReplicationPanel.vue?a6a7","webpack:///./src/components/v2/dbDrcBuild/mhaDbReplicationPanel.vue","webpack:///src/components/v2/dbDrcBuild/mhaReplicationPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaReplicationPanel.vue?aa73","webpack:///./src/components/v2/dbDrcBuild/mhaReplicationPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaPreview.vue?7357","webpack:///src/components/v2/dbDrcBuild/mhaPreview.vue","webpack:///./src/components/v2/dbDrcBuild/mhaPreview.vue?c2d2","webpack:///./src/components/v2/dbDrcBuild/mhaPreview.vue","webpack:///src/views/v2/meta/dbDrcBuildV2.vue","webpack:///./src/views/v2/meta/dbDrcBuildV2.vue?df9b","webpack:///./src/views/v2/meta/dbDrcBuildV2.vue?7197","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/core-js/modules/es.array.fill.js"],"names":["fixRegExpWellKnownSymbolLogic","isRegExp","anObject","requireObjectCoercible","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","fails","arrayPush","push","min","Math","MAX_UINT32","SUPPORTS_Y","RegExp","SPLIT","nativeSplit","maybeCallNative","internalSplit","split","length","separator","limit","string","String","this","lim","undefined","call","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","source","slice","index","apply","test","O","splitter","regexp","res","done","value","rx","S","C","unicodeMatching","p","q","A","e","z","i","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","Symbol","iterator","Object","prototype","toString","_arr","_n","_d","_e","_s","_i","next","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","nonIterableRest","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","_vm","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","staticStyle","formItem","meta","fixDb","getExistDb","dataLoading","on","selectDb","model","callback","$$v","$set","expression","_l","option","key","dbName","afterSelectExistReplication","selectedExistReplication","items","srcRegionName","dstRegionName","goToCreateReplication","createModal","existReplicationRegionOptions","getDrcConfig","drcConfig","logicTableSummaryDtos","configDataLoading","dbNames","mhaReplications","staticRenderFns","height","ref","columns","tableData","scopedSlots","_u","fn","row","$event","goToUpdateConfig","goToDeleteConfig","goToInsertConfig","actionTitle","editModal","selectedRow","srcRegion","dstRegion","action","finishConfig","formAction","alertInfo","message","proxy","title","type","indexOf","_k","keyCode","preventDefault","afterEnterTableName","switch","commonColumnLoading","getCommonColumns","rowsFilterCreateParam","constants","rowsFilter","item","mode","name","configInTripUid","fetchModeChange","k","v","columnsFilterCreateParam","colsFilter","handleCreateColumn","tableName","buildMode","buttonTypeMap","get","submitAll","buttonTextMap","dbTableLoading","getTableInfo","table","dbTableColumn","preCheckTablePage","checkTableDataList","dbTablePage","current","pageSizeOpts","size","val","props","Number","tableNames","emits","data","total","methods","flattenObj","result","ob","j","temp","computed","created","component","components","FORM_ACTION_OPTION","CREATE","EDIT","DELETE","configData","rowsFilterId","colsFilterId","dbReplicationIds","originLogicTableConfig","rowsFilterCreateParamInit","columnsFilterCreateParamInit","regionsChosen","filterMode","JAVA_REGEX","TRIP_UDL","AVIATOR_REGEX","CUSTOM","TRIP_UDL_UID","fetchMode","RPC","BlackList","WhiteList","BlackList_Global","modes","regionsForChose","drcStrategyIdsForChose","fetchModeForChose","columnsForChose","dbMhaTableLoading","dbMhaTableColumn","dbMhaTablePage","show","successShow","Map","successSubmit","getParams","param","buName","tag","gtidConfigurable","gtidInit","tblsFilterDetail","getEditParams","logicTableConfig","logicTable","useTripUdlOrUidMode","fillContextByRegion","context","join","openRowsFilterConfig","openColsFilterConfig","console","log","contains","alert","drcStrategyId","routeStrategyId","udlColumns","illegalArgument","includes","hasUdlColumn","hasUidColumn","showUdlConfigDetail","hasUdlLegalConfig","hasUidLegalConfig","showUidConfigDetail","refresh","Boolean","actionTitleMap","open","$emit","replication","srcMha","dstMha","openModal","mhaDbReplications","openDetailModal","refInFor","dcName","delayDataLoading","showModal","$Message","info","replicationIds","getDelay","afterSwitchRegion","region","getRegionOptions","getDalInfo","preCheckMhaReplicationPage","previewDataList","createReplication","regionOptions","DAL_CLUSTER_MODE","$route","query","dbOptions","resetPath","$router","replace","axios","then","response","status","toObject","toAbsoluteIndex","module","exports","argumentsLength","arguments","end","endPos","whitespaces","non","METHOD_NAME","fill","addToUnscopables"],"mappings":"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","file":"js/chunk-454401fe.e286a8c4.js","sourcesContent":["'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbDrcBuildV2.vue?vue&type=style&index=0&lang=css&\"","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/v2/dbDrcBuildV2\"}},[_vm._v(\"DB粒度 DRC 同步\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#ffffff', margin: '50px 0 111px 185px', zIndex: '1'})},[_c('Row',{attrs:{\"gutter\":10,\"align\":\"middle\"}},[_c('Col',{attrs:{\"span\":\"18\"}},[_c('Form',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"},attrs:{\"model\":_vm.formItem,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"数据库\",\"required\":true}},[_c('Select',{attrs:{\"filterable\":\"\",\"disabled\":_vm.meta.fixDb,\"placeholder\":\"请搜索数据库信息\",\"remote-method\":_vm.getExistDb,\"loading\":_vm.dataLoading},on:{\"on-change\":_vm.selectDb},model:{value:(_vm.meta.dbName),callback:function ($$v) {_vm.$set(_vm.meta, \"dbName\", $$v)},expression:\"meta.dbName\"}},_vm._l((_vm.meta.dbOptions),function(option,index){return _c('Option',{key:index,attrs:{\"value\":option.dbName}},[_vm._v(\" \"+_vm._s(option.dbName)+\" \")])}),1)],1),_c('FormItem',{attrs:{\"label\":\"同步方向\",\"required\":true}},[_c('RadioGroup',{attrs:{\"button-style\":\"solid\"},on:{\"on-change\":_vm.afterSelectExistReplication},model:{value:(_vm.selectedExistReplication),callback:function ($$v) {_vm.selectedExistReplication=$$v},expression:\"selectedExistReplication\"}},_vm._l((_vm.meta.existReplicationRegionOptions),function(items){return _c('Radio',{key:items.srcRegionName+' -> '+items.dstRegionName,attrs:{\"label\":items.srcRegionName+' -> '+items.dstRegionName,\"border\":\"\"}},[_vm._v(\" \"+_vm._s(items.srcRegionName + ' -> ' + items.dstRegionName)+\" \")])}),1),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\",\"ghost\":\"\"},on:{\"click\":_vm.goToCreateReplication}},[_vm._v(\"新增\")]),_c('Modal',{attrs:{\"width\":\"1200px\",\"footer-hide\":true,\"title\":\"创建同步\"},model:{value:(_vm.createModal.open),callback:function ($$v) {_vm.$set(_vm.createModal, \"open\", $$v)},expression:\"createModal.open\"}},[(_vm.createModal.open)?_c('mha-preview',{attrs:{\"db-name\":_vm.meta.dbName,\"exist-replication-region-options\":_vm.meta.existReplicationRegionOptions},on:{\"updated\":_vm.getDrcConfig}}):_vm._e()],1)],1),_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"同步表\")]),_c('Card',{staticStyle:{\"width\":\"100%\"}},[_c('tables',{attrs:{\"table-data\":_vm.drcConfig.logicTableSummaryDtos,\"data-loading\":_vm.configDataLoading,\"src-region\":_vm.meta.srcRegionName,\"dst-region\":_vm.meta.dstRegionName,\"db-name\":_vm.meta.dbName,\"db-names\":_vm.drcConfig.dbNames},on:{\"updated\":_vm.getDrcConfig}})],1),_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"同步DB\")]),_c('Card',{staticStyle:{\"width\":\"100%\"}},[_c('mha-replication-panel',{attrs:{\"mha-replications\":_vm.drcConfig.mhaReplications}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Table',{ref:\"multipleTable\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.tableData,\"loading\":_vm.dataLoading,\"border\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToUpdateConfig(row, index)}}},[_vm._v(\"修改 \")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToDeleteConfig(row, index)}}},[_vm._v(\"删除 \")])]}}])}),_c('br'),_c('Button',{attrs:{\"type\":\"success\",\"icon\":\"md-add\"},on:{\"click\":_vm.goToInsertConfig}},[_vm._v(\" 新增 \")]),_c('Modal',{attrs:{\"width\":\"1200px\",\"footer-hide\":true,\"title\":_vm.actionTitle},model:{value:(_vm.editModal.open),callback:function ($$v) {_vm.$set(_vm.editModal, \"open\", $$v)},expression:\"editModal.open\"}},[(_vm.editModal.open)?_c('db-replication-config',{ref:\"dbReplicationConfigComponent\",attrs:{\"config-data\":_vm.selectedRow,\"src-region\":_vm.srcRegion,\"dst-region\":_vm.dstRegion,\"db-names\":_vm.dbNames,\"form-action\":_vm.action},on:{\"finished\":_vm.finishConfig}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Row',{attrs:{\"gutter\":10,\"align\":\"middle\"}},[_c('Col',{attrs:{\"span\":\"13\"}},[_c('Form',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"},attrs:{\"model\":_vm.formItem,\"disabled\":_vm.formAction === 'delete',\"label-width\":100}},[(_vm.alertInfo.show)?_c('Alert',{attrs:{\"type\":\"warning\",\"show-icon\":\"\",\"closable\":\"\"},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_vm._v(_vm._s(_vm.alertInfo.message))]},proxy:true}],null,false,3041357252)},[_vm._v(\" \"+_vm._s(_vm.alertInfo.title)+\" \")]):_vm._e(),(_vm.alertInfo.successShow)?_c('Alert',{attrs:{\"type\":\"success\",\"show-icon\":\"\",\"closable\":\"\"},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_vm._v(_vm._s(_vm.alertInfo.message))]},proxy:true}],null,false,3041357252)},[_vm._v(\" \"+_vm._s(_vm.alertInfo.title)+\" \")]):_vm._e(),_c('FormItem',{attrs:{\"prop\":\"dbName\",\"label\":\"库名\",\"required\":true}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":true,\"readonly\":true,\"border\":false,\"placeholder\":\"请输入库名（支持正则）\"},model:{value:(_vm.formItem.dbName),callback:function ($$v) {_vm.$set(_vm.formItem, \"dbName\", $$v)},expression:\"formItem.dbName\"}})],1),_c('FormItem',{attrs:{\"label\":\"同步表\",\"required\":true}},[_c('Input',{attrs:{\"placeholder\":\"请输入正则表达式\"},on:{\"on-keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();},\"on-blur\":_vm.afterEnterTableName},model:{value:(_vm.formItem.tableName),callback:function ($$v) {_vm.$set(_vm.formItem, \"tableName\", $$v)},expression:\"formItem.tableName\"}})],1),_c('FormItem',{attrs:{\"label\":\"行过滤\"}},[_c('i-switch',{attrs:{\"size\":\"large\"},scopedSlots:_vm._u([{key:\"open\",fn:function(){return [_c('span',[_vm._v(\"On\")])]},proxy:true},{key:\"close\",fn:function(){return [_c('span',[_vm._v(\"Off\")])]},proxy:true}]),model:{value:(_vm.formItem.switch.rowsFilter),callback:function ($$v) {_vm.$set(_vm.formItem.switch, \"rowsFilter\", $$v)},expression:\"formItem.switch.rowsFilter\"}})],1),(_vm.formItem.switch.rowsFilter)?_c('Card',{staticStyle:{\"margin-left\":\"100px\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('Icon',{attrs:{\"type\":\"md-settings\"}}),_vm._v(\" 行过滤配置 \"),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"icon\":\"ios-refresh\",\"size\":\"small\",\"type\":\"primary\",\"loading\":_vm.commonColumnLoading},on:{\"click\":_vm.getCommonColumns}},[_vm._v(\"获取公共字段 \")])]},proxy:true}],null,false,571298879)},[_c('FormItem',{attrs:{\"label\":\"模式\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"选择行过滤模式\"},model:{value:(_vm.formItem.rowsFilterCreateParam.mode),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"mode\", $$v)},expression:\"formItem.rowsFilterCreateParam.mode\"}},_vm._l((_vm.formItem.constants.rowsFilter.modes),function(item){return _c('Option',{key:item.mode,attrs:{\"value\":item.mode}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),(_vm.useTripUdlOrUidMode)?_c('div',[(_vm.fillContextByRegion)?_c('FormItem',{attrs:{\"label\":\"规则内容\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"Region 选择\"},model:{value:(_vm.formItem.rowsFilter.configInTripUid.regionsChosen),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilter.configInTripUid, \"regionsChosen\", $$v)},expression:\"formItem.rowsFilter.configInTripUid.regionsChosen\"}},_vm._l((_vm.formItem.constants.rowsFilter.regionsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1)],1):_vm._e(),(_vm.showUdlConfigDetail)?_c('div',[_c('Divider',[_vm._v(\"UDL配置\")]),_c('FormItem',{attrs:{\"label\":\"UDL字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"multiple\":\"\",\"disabled\":_vm.commonColumnLoading,\"placeholder\":\"不选默认则无UDL配置\"},model:{value:(_vm.formItem.rowsFilterCreateParam.udlColumns),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"udlColumns\", $$v)},expression:\"formItem.rowsFilterCreateParam.udlColumns\"}},_vm._l((_vm.formItem.constants.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item)+\" \")])}),1)],1),(_vm.hasUdlColumn)?_c('FormItem',{attrs:{\"label\":\"DRC UDL策略id\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择ucs策略id\"},model:{value:(_vm.formItem.rowsFilterCreateParam.drcStrategyId),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"drcStrategyId\", $$v)},expression:\"formItem.rowsFilterCreateParam.drcStrategyId\"}},_vm._l((_vm.formItem.constants.rowsFilter.drcStrategyIdsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item)+\" \")])}),1)],1):_vm._e()],1):_vm._e(),(_vm.showUidConfigDetail)?_c('div',[_c('Divider',[_vm._v(\"UID配置\")]),_c('FormItem',{attrs:{\"label\":\"UID字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"multiple\":\"\",\"disabled\":_vm.commonColumnLoading,\"placeholder\":\"不选默认则无UID配置\"},model:{value:(_vm.formItem.rowsFilterCreateParam.columns),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"columns\", $$v)},expression:\"formItem.rowsFilterCreateParam.columns\"}},_vm._l((_vm.formItem.constants.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item)+\" \")])}),1)],1),(_vm.hasUidColumn)?_c('FormItem',{attrs:{\"label\":\"fetchMode\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"选择\"},on:{\"on-change\":function($event){return _vm.fetchModeChange()}},model:{value:(_vm.formItem.rowsFilterCreateParam.fetchMode),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"fetchMode\", $$v)},expression:\"formItem.rowsFilterCreateParam.fetchMode\"}},_vm._l((_vm.formItem.constants.rowsFilter.fetchModeForChose),function(item){return _c('Option',{key:item.k,attrs:{\"value\":item.v}},[_vm._v(\" \"+_vm._s(item.k)+\" \")])}),1)],1):_vm._e(),(_vm.hasUidColumn)?_c('FormItem',{attrs:{\"label\":\"空处理\"}},[_c('Checkbox',{model:{value:(_vm.formItem.rowsFilterCreateParam.illegalArgument),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"illegalArgument\", $$v)},expression:\"formItem.rowsFilterCreateParam.illegalArgument\"}},[_vm._v(\"【字段为空时】同步\")])],1):_vm._e()],1):_vm._e()],1):_c('div',[_c('FormItem',{attrs:{\"label\":\"规则内容\"}},[_c('Input',{staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入行过滤内容\"},model:{value:(_vm.formItem.rowsFilterCreateParam.context),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"context\", $$v)},expression:\"formItem.rowsFilterCreateParam.context\"}})],1),_c('FormItem',{attrs:{\"label\":\"相关字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"multiple\":\"\",\"placeholder\":\"选择相关字段\"},model:{value:(_vm.formItem.rowsFilterCreateParam.columns),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"columns\", $$v)},expression:\"formItem.rowsFilterCreateParam.columns\"}},_vm._l((_vm.formItem.constants.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item,\"lable\":item}})}),1)],1)],1)],1):_vm._e(),_c('FormItem',{attrs:{\"label\":\"列过滤\"}},[_c('i-switch',{attrs:{\"size\":\"large\"},scopedSlots:_vm._u([{key:\"open\",fn:function(){return [_c('span',[_vm._v(\"On\")])]},proxy:true},{key:\"close\",fn:function(){return [_c('span',[_vm._v(\"Off\")])]},proxy:true}]),model:{value:(_vm.formItem.switch.colsFilter),callback:function ($$v) {_vm.$set(_vm.formItem.switch, \"colsFilter\", $$v)},expression:\"formItem.switch.colsFilter\"}})],1),(_vm.formItem.switch.colsFilter)?_c('Card',{staticStyle:{\"margin-left\":\"100px\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('Icon',{attrs:{\"type\":\"md-settings\"}}),_vm._v(\" 列过滤配置 \"),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"icon\":\"ios-refresh\",\"size\":\"small\",\"type\":\"primary\",\"loading\":_vm.commonColumnLoading},on:{\"click\":_vm.getCommonColumns}},[_vm._v(\"获取公共字段 \")])]},proxy:true}],null,false,2228726756)},[_c('FormItem',{attrs:{\"label\":\"模式\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"选择字段过滤模式\"},model:{value:(_vm.formItem.columnsFilterCreateParam.mode),callback:function ($$v) {_vm.$set(_vm.formItem.columnsFilterCreateParam, \"mode\", $$v)},expression:\"formItem.columnsFilterCreateParam.mode\"}},_vm._l((_vm.formItem.constants.colsFilter.modes),function(item){return _c('Option',{key:item.mode,attrs:{\"value\":item.mode}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),_c('FormItem',{attrs:{\"label\":\"字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"multiple\":\"\",\"placeholder\":\"选择相关的字段\",\"disabled\":_vm.commonColumnLoading},on:{\"on-create\":_vm.handleCreateColumn},model:{value:(_vm.formItem.columnsFilterCreateParam.columns),callback:function ($$v) {_vm.$set(_vm.formItem.columnsFilterCreateParam, \"columns\", $$v)},expression:\"formItem.columnsFilterCreateParam.columns\"}},_vm._l((_vm.formItem.constants.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item)+\" \")])}),1)],1)],1):_vm._e(),_c('br'),_c('Row',[_c('Col',{attrs:{\"span\":\"6\",\"offset\":\"8\"}}),_c('Col',{attrs:{\"span\":\"6\",\"offset\":\"4\"}})],1)],1)],1),_c('Col',{attrs:{\"span\":\"11\"}},[_c('db-tables-preview',{attrs:{\"src-region-name\":_vm.srcRegion,\"dst-region-name\":_vm.dstRegion,\"db-name\":_vm.formItem.dbName,\"table-names\":_vm.formItem.tableName,\"mode\":_vm.formItem.buildMode}})],1)],1),_c('Divider'),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"type\":_vm.buttonTypeMap.get(_vm.formAction),\"loading\":_vm.dataLoading || _vm.commonColumnLoading},on:{\"click\":_vm.submitAll}},[_vm._v(_vm._s(_vm.buttonTextMap.get(_vm.formAction))+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Divider',{staticStyle:{\"margin-top\":\"50px\"}},[_vm._v(\"预览：同步表\")]),_c('Button',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"type\":\"primary\",\"loading\":_vm.dbTableLoading},on:{\"click\":_vm.getTableInfo}},[_vm._v(\" 检查同步表 \")]),_c('Table',{attrs:{\"size\":\"small\",\"loading\":_vm.dbTableLoading,\"stripe\":\"\",\"columns\":_vm.table.dbTableColumn,\"data\":_vm.preCheckTablePage,\"border\":\"\"}}),_c('div',[_c('Page',{attrs:{\"transfer\":true,\"total\":_vm.checkTableDataList.length,\"current\":_vm.table.dbTablePage.current,\"page-size-opts\":_vm.table.dbTablePage.pageSizeOpts,\"page-size\":_vm.table.dbTablePage.size,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function($event){return _vm.$set(_vm.table.dbTablePage, \"current\", $event)},\"on-change\":function (val) {_vm.table.dbTablePage.current = val},\"on-page-size-change\":function (val) {_vm.table.dbTablePage.size = val}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Divider style=\"margin-top: 50px\">预览：同步表</Divider>\n    <Button type=\"primary\" :loading=\"dbTableLoading\" @click=\"getTableInfo\" style=\"margin-bottom: 5px\">\n      检查同步表\n    </Button>\n    <Table size=\"small\" :loading=\"dbTableLoading\" stripe :columns=\"table.dbTableColumn\"\n           :data=\"preCheckTablePage\" border></Table>\n    <div>\n      <Page\n        :transfer=\"true\"\n        :total=\"checkTableDataList.length\"\n        :current.sync=\"table.dbTablePage.current\"\n        :page-size-opts=\"table.dbTablePage.pageSizeOpts\"\n        :page-size=\"table.dbTablePage.size\"\n        show-total\n        show-sizer\n        show-elevator\n        @on-change=\"(val) => {table.dbTablePage.current = val}\"\n        @on-page-size-change=\"(val) => {table.dbTablePage.size = val}\"></Page>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'dbTablesPreview',\n  props: {\n    mode: Number,\n    dbName: String,\n    srcRegionName: String,\n    dstRegionName: String,\n    tableNames: String\n  },\n  emits: ['updated'],\n  data () {\n    return {\n      checkTableDataList: [],\n      dbTableLoading: false,\n      table: {\n        dbTableColumn: [\n          {\n            title: '序',\n            width: 50,\n            key: 'indexForShow'\n            // resizable: true\n          },\n          {\n            title: '库名',\n            key: 'schema',\n            resizable: true\n          },\n          {\n            title: '表名',\n            key: 'table',\n            resizable: true\n          },\n          {\n            title: '结果',\n            align: 'center',\n            render: (h, params) => {\n              const row = params.row\n              const color = row.res !== 'ok' ? 'volcano' : 'green'\n              const text = row.res\n              return h('Tag', {\n                props: {\n                  color: color\n                }\n              }, text)\n            }\n          }\n        ],\n        dbTablePage: {\n          total: 0,\n          current: 1,\n          size: 10,\n          pageSizeOpts: [5, 10, 20, 100]\n        }\n      }\n    }\n  },\n  methods: {\n    async getTableInfo () {\n      this.checkTableDataList = []\n      this.table.dbTablePage.current = 1\n      if (this.mode === 1) {\n        if (!this.dalClusterName) {\n          this.$Message.warning('请先填写 dalcluster')\n          return\n        }\n      } else {\n        if (!this.dbName) {\n          this.$Message.warning('请先填写数据库')\n          return\n        }\n      }\n      if (!this.srcRegionName || !this.dstRegionName) {\n        this.$Message.warning('请先填写同步方向')\n        return\n      }\n      if (!this.tableNames) {\n        this.$Message.warning('请先填写表名')\n        return\n      }\n      this.dbTableLoading = true\n      await this.axios.get('/api/drc/v2/autoconfig/preCheckTable', {\n        params: this.flattenObj({\n          mode: this.mode,\n          dbName: this.dbName,\n          srcRegionName: this.srcRegionName,\n          dstRegionName: this.dstRegionName,\n          tblsFilterDetail: {\n            tableNames: this.tableNames\n          }\n        })\n      })\n        .then(response => {\n          const data = response.data.data\n          if (data) {\n            for (const [index, val] of data.entries()) {\n              val.indexForShow = index\n            }\n            this.checkTableDataList = data\n            this.$Message.success('同步表检测成功, 共找到 ' + data.length + ' 个表')\n          } else {\n            this.$Message.warning('同步表检测失败：' + response.data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('查询dalcluster异常: ' + message)\n        })\n        .finally(() => {\n          this.dbTableLoading = false\n        })\n    },\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    }\n  },\n  computed: {\n    preCheckTablePage () {\n      const data = this.checkTableDataList\n      const start = (this.table.dbTablePage.current - 1) * this.table.dbTablePage.size\n      const end = start + this.table.dbTablePage.size\n      return [...data].slice(start, end)\n    }\n  },\n  created () {\n    if (this.tableNames && this.tableNames.trim().length > 0) {\n      this.getTableInfo()\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbTablesPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbTablesPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dbTablesPreview.vue?vue&type=template&id=4164dffe&scoped=true&\"\nimport script from \"./dbTablesPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./dbTablesPreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4164dffe\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Row :gutter=10 align=\"middle\">\n      <Col span=\"13\">\n        <Form :model=\"formItem\" :disabled=\"formAction === 'delete'\" :label-width=\"100\"\n              style=\"margin-right: 20px;margin-top: 10px\">\n          <Alert type=\"warning\" show-icon v-if=\"alertInfo.show\" closable>\n            {{ alertInfo.title }}\n            <template #desc>{{ alertInfo.message }}</template>\n          </Alert>\n          <Alert type=\"success\" show-icon v-if=\"alertInfo.successShow\" closable>\n            {{ alertInfo.title }}\n            <template #desc>{{ alertInfo.message }}</template>\n          </Alert>\n          <FormItem prop=\"dbName\" label=\"库名\" :required=true>\n            <Input type=\"textarea\" v-model=\"formItem.dbName\" :autosize=\"true\" :readonly=\"true\" :border=\"false\"\n                   placeholder=\"请输入库名（支持正则）\"/>\n          </FormItem>\n          <FormItem label=\"同步表\" :required=true>\n            <Input @on-keydown.space.prevent v-model=\"formItem.tableName\" placeholder=\"请输入正则表达式\"\n                   @on-blur=\"afterEnterTableName\"></Input>\n          </FormItem>\n          <FormItem label=\"行过滤\">\n            <i-switch v-model=\"formItem.switch.rowsFilter\" size=\"large\">\n              <template #open>\n                <span>On</span>\n              </template>\n              <template #close>\n                <span>Off</span>\n              </template>\n            </i-switch>\n          </FormItem>\n          <Card v-if=\"formItem.switch.rowsFilter\" style=\"margin-left: 100px\">\n            <template #title>\n              <Icon type=\"md-settings\"/>\n              行过滤配置\n              <Button icon=\"ios-refresh\" size=\"small\" type=\"primary\" :loading=\"commonColumnLoading\"\n                      @click=\"getCommonColumns\" style=\"margin-left: 50px\">获取公共字段\n              </Button>\n            </template>\n            <FormItem label=\"模式\">\n              <Select v-model=\"formItem.rowsFilterCreateParam.mode\" style=\"width: 200px\" placeholder=\"选择行过滤模式\">\n                <Option v-for=\"item in formItem.constants.rowsFilter.modes\" :value=\"item.mode\" :key=\"item.mode\">\n                  {{ item.name }}\n                </Option>\n              </Select>\n            </FormItem>\n            <div v-if=\"useTripUdlOrUidMode\">\n              <FormItem label=\"规则内容\" v-if=\"fillContextByRegion\">\n                <Select v-model=\"formItem.rowsFilter.configInTripUid.regionsChosen\" multiple\n                        style=\"width: 200px\" placeholder=\"Region 选择\">\n                  <Option v-for=\"item in formItem.constants.rowsFilter.regionsForChose\" :value=\"item\" :key=\"item\">\n                    {{ item }}\n                  </Option>\n                </Select>\n              </FormItem>\n              <div v-if=\"showUdlConfigDetail\">\n                <Divider>UDL配置</Divider>\n                <FormItem label=\"UDL字段\">\n                  <Select v-model=\"formItem.rowsFilterCreateParam.udlColumns\" filterable allow-create multiple\n                          :disabled=\"commonColumnLoading\"\n                          style=\"width: 200px\" placeholder=\"不选默认则无UDL配置\">\n                    <Option v-for=\"item in formItem.constants.columnsForChose\" :value=\"item\" :key=\"item\">{{\n                        item\n                      }}\n                    </Option>\n                  </Select>\n                </FormItem>\n                <FormItem label=\"DRC UDL策略id\" v-if=\"hasUdlColumn\">\n                  <Select v-model=\"formItem.rowsFilterCreateParam.drcStrategyId\" filterable allow-create\n                          style=\"width: 200px\"\n                          placeholder=\"请选择ucs策略id\">\n                    <Option v-for=\"item in formItem.constants.rowsFilter.drcStrategyIdsForChose\" :value=\"item\"\n                            :key=\"item\">{{ item }}\n                    </Option>\n                  </Select>\n                </FormItem>\n              </div>\n              <div v-if=\"showUidConfigDetail\">\n                <Divider>UID配置</Divider>\n                <FormItem label=\"UID字段\">\n                  <Select v-model=\"formItem.rowsFilterCreateParam.columns\" filterable allow-create multiple\n                          :disabled=\"commonColumnLoading\"\n                          style=\"width: 200px\" placeholder=\"不选默认则无UID配置\">\n                    <Option v-for=\"item in formItem.constants.columnsForChose\" :value=\"item\" :key=\"item\">{{\n                        item\n                      }}\n                    </Option>\n                  </Select>\n                </FormItem>\n                <FormItem label=\"fetchMode\" v-if=\"hasUidColumn\">\n                  <Select v-model=\"formItem.rowsFilterCreateParam.fetchMode\" style=\"width: 200px\" placeholder=\"选择\"\n                          @on-change=\"fetchModeChange()\">\n                    <Option v-for=\"item in formItem.constants.rowsFilter.fetchModeForChose\" :value=\"item.v\"\n                            :key=\"item.k\">\n                      {{ item.k }}\n                    </Option>\n                  </Select>\n                </FormItem>\n                <FormItem v-if=\"hasUidColumn\" label=\"空处理\">\n                  <Checkbox v-model=\"formItem.rowsFilterCreateParam.illegalArgument\">【字段为空时】同步</Checkbox>\n                </FormItem>\n              </div>\n            </div>\n            <div v-else>\n              <FormItem label=\"规则内容\">\n                <Input type=\"textarea\"\n                       v-model=\"formItem.rowsFilterCreateParam.context\" style=\"width: 250px\"\n                       placeholder=\"请输入行过滤内容\"/>\n              </FormItem>\n              <FormItem label=\"相关字段\">\n                <Select v-model=\"formItem.rowsFilterCreateParam.columns\" filterable allow-create multiple\n                        style=\"width: 200px\" placeholder=\"选择相关字段\">\n                  <Option v-for=\"item in formItem.constants.columnsForChose\" :value=\"item\" :key=\"item\"\n                          :lable=\"item\"></Option>\n                </Select>\n              </FormItem>\n            </div>\n          </Card>\n\n          <FormItem label=\"列过滤\">\n            <i-switch v-model=\"formItem.switch.colsFilter\" size=\"large\">\n              <template #open>\n                <span>On</span>\n              </template>\n              <template #close>\n                <span>Off</span>\n              </template>\n            </i-switch>\n          </FormItem>\n          <Card v-if=\"formItem.switch.colsFilter\" style=\"margin-left: 100px\">\n            <template #title>\n              <Icon type=\"md-settings\"/>\n              列过滤配置\n              <Button icon=\"ios-refresh\" size=\"small\" type=\"primary\" :loading=\"commonColumnLoading\"\n                      @click=\"getCommonColumns\" style=\"margin-left: 50px\">获取公共字段\n              </Button>\n            </template>\n            <FormItem label=\"模式\">\n              <Select v-model=\"formItem.columnsFilterCreateParam.mode\" style=\"width: 200px\"\n                      placeholder=\"选择字段过滤模式\">\n                <Option v-for=\"item in formItem.constants.colsFilter.modes\" :value=\"item.mode\" :key=\"item.mode\">\n                  {{ item.name }}\n                </Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"字段\">\n              <Select v-model=\"formItem.columnsFilterCreateParam.columns\" filterable allow-create\n                      @on-create=\"handleCreateColumn\" multiple style=\"width: 200px\" placeholder=\"选择相关的字段\"\n                      :disabled=\"commonColumnLoading\">\n                <Option v-for=\"item in formItem.constants.columnsForChose\" :value=\"item\" :key=\"item\">{{\n                    item\n                  }}\n                </Option>\n              </Select>\n            </FormItem>\n          </Card>\n          <br/>\n          <Row>\n            <Col span=\"6\" offset=\"8\"></Col>\n            <Col span=\"6\" offset=\"4\">\n            </Col>\n          </Row>\n        </Form>\n      </Col>\n      <Col span=\"11\">\n        <db-tables-preview :src-region-name=\"srcRegion\"\n                           :dst-region-name=\"dstRegion\"\n                           :db-name=\"formItem.dbName\"\n                           :table-names=\"formItem.tableName\"\n                           :mode=\"formItem.buildMode\"\n        />\n      </Col>\n    </Row>\n    <Divider></Divider>\n    <Button :type=\"buttonTypeMap.get(formAction)\" @click=\"submitAll\" style=\"margin-left: 50px\"\n            :loading=\"dataLoading || commonColumnLoading\">{{\n        buttonTextMap.get(formAction)\n      }}\n    </Button>\n  </div>\n</template>\n\n<script>\n\nimport DbTablesPreview from '@/components/v2/dbDrcBuild/dbTablesPreview.vue'\n\nexport default {\n  components: { DbTablesPreview },\n  FORM_ACTION_OPTION: {\n    CREATE: 'create',\n    EDIT: 'edit',\n    DELETE: 'delete'\n  },\n  name: 'dbReplicationConfig',\n  props: {\n    configData: {},\n    srcRegion: String,\n    dstRegion: String,\n    dbNames: Array,\n    formAction: String\n  },\n  emits: ['finished'],\n  data () {\n    return {\n      meta: {\n        rowsFilterId: null,\n        colsFilterId: null,\n        dbReplicationIds: [],\n        originLogicTableConfig: {}\n      },\n      formItem: {\n        buildMode: 2,\n        dbName: null,\n        tableName: null,\n        rowsFilterCreateParam: this.rowsFilterCreateParamInit(),\n        columnsFilterCreateParam: this.columnsFilterCreateParamInit(),\n        rowsFilter: {\n          configInTripUid: {\n            regionsChosen: []\n          }\n        },\n        switch: {\n          rowsFilter: false,\n          colsFilter: false\n        },\n        constants: {\n          rowsFilter: {\n            filterMode: {\n              JAVA_REGEX: 0,\n              TRIP_UDL: 1,\n              AVIATOR_REGEX: 3,\n              CUSTOM: 4,\n              TRIP_UDL_UID: 5\n            },\n            fetchMode: {\n              RPC: 0,\n              BlackList: 1,\n              WhiteList: 2,\n              BlackList_Global: 3\n            },\n            modes: [\n              {\n                name: 'trip_udl',\n                mode: 1\n              },\n              {\n                name: 'java_regex',\n                mode: 0\n              },\n              {\n                name: 'aviator_regex',\n                mode: 3\n              },\n              {\n                name: 'custom',\n                mode: 4\n              },\n              {\n                name: 'trip_udl_uid',\n                mode: 5\n              }\n            ],\n            regionsForChose: [\n              'SIN',\n              'SH',\n              'FRA'\n            ],\n            drcStrategyIdsForChose: [\n              2000000002\n            ],\n            fetchModeForChose: [\n              {\n                k: 'RPC调用',\n                v: 0\n              },\n              {\n                k: 'BlackList',\n                v: 1\n              },\n              {\n                k: 'WhiteList',\n                v: 2\n              },\n              {\n                k: 'BlackListGlobal',\n                v: 3\n              }\n            ]\n          },\n          colsFilter: {\n            modes: [\n              {\n                name: 'exclude',\n                mode: 0\n              },\n              {\n                name: 'include',\n                mode: 1\n              },\n              {\n                name: 'regex',\n                mode: 2\n              }\n            ]\n          },\n          columnsForChose: []\n        }\n      },\n      checkTableDataList: [],\n      table: {\n        dbMhaTableLoading: false,\n        dbMhaTableColumn: [\n          {\n            title: 'DB名',\n            key: 'dbName'\n          },\n          {\n            title: '源集群',\n            key: 'srcMhaName',\n            render: (h, params) => {\n              const row = params.row\n              const mha = row.srcMha\n              if (mha != null) {\n                return h('div', [\n                  h('span', mha.name),\n                  h('span', {\n                    style:\n                      {\n                        float: 'right',\n                        color: '#ababab'\n                      }\n                  }, mha.regionName + '(' + mha.dcName + ')')\n                ])\n              }\n            }\n          },\n          {\n            title: '目标集群',\n            key: 'dstMhaName',\n            render: (h, params) => {\n              const row = params.row\n              const mha = row.dstMha\n              if (mha != null) {\n                return h('div', [\n                  h('span', mha.name),\n                  h('span', {\n                    style:\n                      {\n                        float: 'right',\n                        color: '#ababab'\n                      }\n                  }, mha.regionName + '(' + mha.dcName + ')')\n                ])\n              }\n            }\n          }\n        ],\n        dbMhaTablePage: {\n          total: 0,\n          current: 1,\n          size: 5,\n          pageSizeOpts: [5, 10, 20, 100]\n        },\n        dbTableLoading: false,\n        dbTableColumn: [\n          {\n            title: '序号',\n            width: 75,\n            align: 'center',\n            fixed: 'left',\n            render: (h, params) => {\n              return h(\n                'span',\n                params.index + 1\n              )\n            }\n          },\n          {\n            title: '库名',\n            key: 'schema',\n            resizable: true\n          },\n          {\n            title: '表名',\n            key: 'table',\n            resizable: true\n          },\n          {\n            title: '结果',\n            align: 'center',\n            render: (h, params) => {\n              const row = params.row\n              const color = row.res !== 'ok' ? 'volcano' : 'green'\n              const text = row.res\n              return h('Tag', {\n                props: {\n                  color: color\n                }\n              }, text)\n            }\n          }\n        ],\n        dbTablePage: {\n          total: 0,\n          current: 1,\n          size: 5,\n          pageSizeOpts: [5, 10, 20, 100]\n        }\n      },\n      alertInfo: {\n        show: false,\n        successShow: false,\n        title: null,\n        message: null\n      },\n      buttonTextMap: new Map([\n        ['create', '新增表同步'],\n        ['edit', '更新表同步'],\n        ['delete', '删除表同步']\n      ]),\n      buttonTypeMap: new Map([\n        ['create', 'success'],\n        ['edit', 'primary'],\n        ['delete', 'error']\n      ]),\n      dataLoading: false,\n      successSubmit: false,\n      commonColumnLoading: false\n    }\n  },\n  methods: {\n    getParams: function () {\n      const param = {}\n      param.buName = this.formItem.buName\n      param.tag = this.formItem.tag\n      param.mode = this.formItem.buildMode\n      param.srcRegionName = this.srcRegion\n      param.dstRegionName = this.dstRegion\n\n      if (this.gtidConfigurable) {\n        param.gtidInit = this.formItem.gtidInit\n      }\n\n      param.tblsFilterDetail = {\n        tableNames: this.formItem.tableName\n      }\n      param.dbName = this.formItem.dbName\n      return param\n    },\n    getEditParams: function () {\n      const param = {}\n      param.dbReplicationIds = this.meta.dbReplicationIds\n      param.dbNames = this.dbNames\n      param.srcRegionName = this.srcRegion\n      param.dstRegionName = this.dstRegion\n\n      param.logicTableConfig = {\n        logicTable: this.formItem.tableName,\n        rowsFilterId: this.formItem.switch.rowsFilter ? this.meta.rowsFilterId : null,\n        colsFilterId: this.formItem.switch.colsFilter ? this.meta.colsFilterId : null\n      }\n      param.originLogicTableConfig = this.meta.originLogicTableConfig\n      if (this.formItem.switch.rowsFilter) {\n        if (this.useTripUdlOrUidMode) {\n          if (this.fillContextByRegion) {\n            this.formItem.rowsFilterCreateParam.context = this.formItem.rowsFilter.configInTripUid.regionsChosen.join(',')\n          } else {\n            this.formItem.rowsFilterCreateParam.context = '//filter by config'\n          }\n        }\n        param.openRowsFilterConfig = true\n        param.rowsFilterCreateParam = this.formItem.rowsFilterCreateParam\n      }\n      if (this.formItem.switch.colsFilter) {\n        param.openColsFilterConfig = true\n        param.columnsFilterCreateParam = this.formItem.columnsFilterCreateParam\n      }\n      console.log(param)\n      return param\n    },\n    async getRowsFilterConfig () {\n      await this.axios.get('/api/drc/v2/autoconfig/getRowsFilterView?rowsFilterId=' + this.meta.rowsFilterId)\n        .then(response => {\n          if (response.data.status === 1) {\n            this.$Message.error('查询行过滤配置失败!')\n          } else {\n            const res = response.data.data\n            if (res == null) {\n              // empty config\n            } else {\n              this.formItem.switch.rowsFilter = true\n              // rowsFilterConfig.context和onfigInTripUid.regionsChosen要放在前面\n              // 不然会失效\n              this.formItem.rowsFilterCreateParam.context = res.context\n              this.formItem.rowsFilterCreateParam.mode = res.mode\n              if (this.useTripUdlOrUidMode) {\n                this.formItem.rowsFilter.configInTripUid.regionsChosen = res.context.split(',')\n              } else {\n                this.formItem.rowsFilter.configInTripUid = {\n                  regionsChosen: []\n                }\n              }\n              this.formItem.rowsFilterCreateParam.columns = res.columns === null ? [] : res.columns\n              if (res.udlColumns !== null) {\n                this.formItem.rowsFilterCreateParam.udlColumns = res.udlColumns\n              }\n              this.formItem.rowsFilterCreateParam.drcStrategyId = res.drcStrategyId === 0 ? null : res.drcStrategyId\n              this.formItem.rowsFilterCreateParam.routeStrategyId = res.routeStrategyId\n              this.formItem.rowsFilterCreateParam.illegalArgument = res.illegalArgument\n              this.formItem.rowsFilterCreateParam.fetchMode = res.fetchMode\n            }\n          }\n        })\n    },\n    async getColsFilterConfig () {\n      await this.axios.get('/api/drc/v2/autoconfig/getColsFilterView?colsFilterId=' + this.meta.colsFilterId)\n        .then(response => {\n          if (response.data.status === 1) {\n            this.$Message.error('查询字段过滤配置失败!')\n          } else {\n            const res = response.data.data\n            if (res == null) {\n              // empty config\n            } else {\n              this.formItem.switch.colsFilter = true\n              this.formItem.columnsFilterCreateParam.mode = res.mode\n              this.formItem.columnsFilterCreateParam.columns = res.columns\n            }\n          }\n        })\n    },\n    async getCommonColumns () {\n      const params = this.getParams()\n      this.formItem.constants.columnsForChose = []\n      this.commonColumnLoading = true\n      await this.axios.get('/api/drc/v2/autoconfig/commonColumns', {\n        params: this.flattenObj(params)\n      }).then(response => {\n        if (response.data.status === 1) {\n          this.$Message.error('查询公共列名失败，请手动添加：' + response.data.message)\n        } else {\n          this.formItem.constants.columnsForChose = response.data.data\n          this.$Message.info('查询公共列名数：' + response.data.data.length)\n        }\n      }).catch(message => {\n        this.$Message.error('查询公共列名异常: ' + message)\n      }).finally(() => {\n        this.commonColumnLoading = false\n      })\n    },\n    handleCreateColumn (val) {\n      if (this.contains(this.formItem.constants.columnsForChose, val)) {\n        alert('已有项禁止创建')\n        return\n      }\n      if (val === '' || val === undefined || val === null) {\n        alert('字段不能为空')\n        return\n      }\n      this.formItem.constants.columnsForChose.push(val)\n    },\n    async afterEnterTableName () {\n      await this.getTableInfo()\n    },\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    },\n    async refresh () {\n      this.formItem.dbName = this.dbNames.join(',')\n      if (this.configData) {\n        console.log('edit panel')\n        this.formItem.tableName = this.configData.config.logicTable\n        this.meta.rowsFilterId = this.configData.config.rowsFilterId\n        this.meta.colsFilterId = this.configData.config.colsFilterId\n        this.getCommonColumns()\n        if (this.meta.rowsFilterId) {\n          await this.getRowsFilterConfig(this.meta.rowsFilterId)\n        } else {\n          this.formItem.switch.rowsFilter = false\n          this.formItem.rowsFilterCreateParam = this.rowsFilterCreateParamInit()\n        }\n        if (this.meta.colsFilterId) {\n          await this.getColsFilterConfig(this.meta.colsFilterId)\n        } else {\n          this.formItem.switch.colsFilter = false\n          this.formItem.columnsFilterCreateParam = this.columnsFilterCreateParamInit()\n        }\n        this.meta.dbReplicationIds = this.configData.dbReplicationIds\n        this.meta.originLogicTableConfig = this.configData.config\n      } else {\n        console.log('insert new config')\n      }\n    },\n    async submitAll () {\n      const that = this\n      that.dataLoading = true\n      that.alertInfo.show = false\n      that.alertInfo.successShow = false\n      that.successSubmit = false\n      const params = this.getEditParams()\n      // if (!this.checkParam(params)) {\n      //   return\n      // }\n      await that.axios.post('/api/drc/v2/autoconfig/dbReplication/' + this.formAction, params)\n        .then(response => {\n          const data = response.data\n          const success = data.status === 0\n          if (success) {\n            that.$Message.success('提交成功')\n            that.successSubmit = true\n            that.alertInfo.successShow = true\n            that.alertInfo.message = null\n            that.alertInfo.title = '提交成功'\n            that.$emit('finished')\n          } else {\n            that.$Message.warning('提交失败: ' + data.message)\n            that.alertInfo.show = true\n            that.alertInfo.title = '提交失败'\n            that.alertInfo.message = data.message\n          }\n        })\n        .catch(message => {\n          that.$Message.error('提交异常: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    rowsFilterCreateParamInit () {\n      return {\n        mode: 1,\n        drcStrategyId: 2000000002,\n        routeStrategyId: 0,\n        udlColumns: [],\n        columns: [],\n        context: '',\n        illegalArgument: false,\n        fetchMode: 0\n      }\n    },\n    columnsFilterCreateParamInit () {\n      return {\n        mode: null,\n        columns: []\n      }\n    }\n  },\n  computed: {\n    preCheckTablePage () {\n      const data = this.checkTableDataList\n      const start = this.table.dbTablePage.current * this.table.dbTablePage.size - this.table.dbTablePage.size\n      const end = start + this.table.dbTablePage.size\n      return [...data].slice(start, end)\n    },\n    useTripUdlOrUidMode () {\n      return [this.formItem.constants.rowsFilter.filterMode.TRIP_UDL, this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID].includes(this.formItem.rowsFilterCreateParam.mode)\n    },\n    hasUdlColumn () {\n      return this.formItem.rowsFilterCreateParam.udlColumns.length !== 0\n    },\n    fillContextByRegion () {\n      return this.formItem.rowsFilterCreateParam.fetchMode === this.formItem.constants.rowsFilter.fetchMode.RPC\n    },\n    hasUidColumn () {\n      return this.formItem.rowsFilterCreateParam.columns.length !== 0\n    },\n    showUdlConfigDetail () {\n      return this.formItem.rowsFilterCreateParam.mode === this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID || this.hasUdlLegalConfig || !this.hasUidLegalConfig\n    },\n    showUidConfigDetail () {\n      return this.formItem.rowsFilterCreateParam.mode === this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID || this.hasUidLegalConfig || !this.hasUdlLegalConfig\n    },\n    hasUdlLegalConfig () {\n      return this.formItem.rowsFilterCreateParam.udlColumns.length !== 0 && this.formItem.rowsFilterCreateParam.drcStrategyId != null && this.formItem.rowsFilterCreateParam.drcStrategyId > 0\n    },\n    hasUidLegalConfig () {\n      return this.hasUidColumn\n    }\n  },\n  created () {\n    this.refresh()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbReplicationConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbReplicationConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dbReplicationConfig.vue?vue&type=template&id=1e6eeea7&scoped=true&\"\nimport script from \"./dbReplicationConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./dbReplicationConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e6eeea7\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Table style=\"margin-top: 20px\" stripe :columns=\"columns\" :data=\"tableData\" :loading=\"dataLoading\" border\n           ref=\"multipleTable\">\n      <template slot=\"action\" slot-scope=\"{ row, index }\">\n        <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToUpdateConfig(row, index)\">修改\n        </Button>\n        <Button type=\"error\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToDeleteConfig(row, index)\">删除\n        </Button>\n      </template>\n    </Table>\n    <br/>\n    <Button type=\"success\" @click=\"goToInsertConfig\" icon=\"md-add\">\n      新增\n    </Button>\n    <Modal v-model=\"editModal.open\" width=\"1200px\" :footer-hide=\"true\" :title=\"actionTitle\">\n      <db-replication-config ref=\"dbReplicationConfigComponent\" @finished=\"finishConfig\"\n                             v-if=\"editModal.open\"\n                             :config-data=\"selectedRow\"\n                             :src-region=\"srcRegion\"\n                             :dst-region=\"dstRegion\"\n                             :db-names=\"dbNames\"\n                             :form-action=\"action\"\n      />\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport DbReplicationConfig from '@/components/v2/dbDrcBuild/dbReplicationConfig.vue'\n\nexport default {\n  name: 'tables',\n  components: { DbReplicationConfig },\n  props: {\n    dbName: String,\n    dbNames: Array,\n    srcRegion: String,\n    dstRegion: String,\n    tableData: Array,\n    dataLoading: Boolean\n  },\n  emits: ['updated'],\n  data () {\n    return {\n      selectedRow: {},\n      action: null,\n      actionTitleMap: new Map([\n        ['create', '新增 表同步'],\n        ['edit', '更新 表同步'],\n        ['delete', '⚠️删除 表同步']\n      ]),\n      editModal: {\n        open: false\n      },\n      columns: [\n        {\n          title: '表名',\n          key: 'config',\n          minWidth: 300,\n          render: (h, params) => {\n            const row = params.row\n            return h('div', row.config.logicTable)\n          }\n        },\n        {\n          title: '过滤规则',\n          key: 'filterTypes',\n          minWidth: 100,\n          render: (h, params) => {\n            const row = params.row\n            const rowsFilterId = row.config.rowsFilterId\n            const colsFilterId = row.config.colsFilterId\n            if (!rowsFilterId && !colsFilterId) {\n              return h('Tag', {\n                props: {\n                  color: 'red'\n                }\n              }, '无')\n            } else {\n              return h('div', [\n                rowsFilterId && h('Tag', {\n                  props: {\n                    color: 'blue'\n                  }\n                }, '行过滤'),\n                colsFilterId && h('Tag', {\n                  props: {\n                    color: 'green'\n                  }\n                }, '字段过滤')\n              ])\n            }\n          }\n        },\n        {\n          title: '操作',\n          minWidth: 100,\n          slot: 'action',\n          align: 'center',\n          fixed: 'right'\n        }\n      ]\n    }\n  },\n  methods: {\n    async goToInsertConfig () {\n      this.selectedRow = null\n      this.action = DbReplicationConfig.FORM_ACTION_OPTION.CREATE\n      this.editModal.open = true\n    },\n    async goToUpdateConfig (row, index) {\n      this.selectedRow = row\n      this.action = DbReplicationConfig.FORM_ACTION_OPTION.EDIT\n      this.editModal.open = true\n    },\n    async goToDeleteConfig (row, index) {\n      this.selectedRow = row\n      this.action = DbReplicationConfig.FORM_ACTION_OPTION.DELETE\n      this.editModal.open = true\n    },\n    finishConfig () {\n      this.selectedRow = null\n      this.editModal.open = false\n      this.$emit('updated')\n    }\n  },\n  computed: {\n    actionTitle () {\n      return this.actionTitleMap.get(this.action)\n    }\n  },\n  created () {\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tables.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tables.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tables.vue?vue&type=template&id=6250ec54&scoped=true&\"\nimport script from \"./tables.vue?vue&type=script&lang=js&\"\nexport * from \"./tables.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6250ec54\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Collapse',{model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.mhaReplications),function(replication,index){return _c('Panel',{key:replication.srcMha.name +'->'+replication.dstMha.name,attrs:{\"name\":String(index)},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('Button',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"icon\":\"ios-open-outline\"},on:{\"click\":function($event){return _vm.openModal(index)}}},[_vm._v(\" 打开详情\")]),_c('mha-db-replication-panel',{attrs:{\"mha-db-replications\":replication.mhaDbReplications}}),_c('Modal',{attrs:{\"width\":\"1500px\",\"footer-hide\":true},model:{value:(_vm.openDetailModal[index]),callback:function ($$v) {_vm.$set(_vm.openDetailModal, index, $$v)},expression:\"openDetailModal[index]\"}},[(_vm.openDetailModal[index])?_c('drc-build-v2',{ref:\"dbReplicationConfigComponent\",refInFor:true,attrs:{\"src-mha-name\":replication.srcMha.name,\"src-dc\":replication.srcMha.dcName,\"dst-mha-name\":replication.dstMha.name,\"dst-dc\":replication.dstMha.dcName}}):_vm._e()],1)]},proxy:true}],null,true)},[_vm._v(\" \"+_vm._s(replication.srcMha.name + ' -> ' + replication.dstMha.name)+\" \")])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.mhaDbReplications}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Table stripe border :columns=\"columns\" :data=\"mhaDbReplications\">\n  </Table>\n</template>\n\n<script>\nimport prettyMilliseconds from 'pretty-ms'\n\nexport default {\n  name: 'mhaDbReplicationPanel',\n  props: {\n    mhaDbReplications: Array\n  },\n  data () {\n    return {\n      value: ['1'],\n      delayDataLoading: false,\n      columns: [\n        {\n          title: '类型',\n          width: 80,\n          render: (h, params) => {\n            const row = params.row\n            let text = 'none'\n            let type = 'error'\n            let disabled = false\n            switch (row.transmissionType) {\n              case 'simplex':\n                text = '单'\n                type = 'info'\n                break\n              case 'duplex':\n                text = '双'\n                type = 'success'\n                break\n              default:\n                text = '无'\n                disabled = true\n                break\n            }\n            return h('Button', {\n              props: {\n                type: type,\n                size: 'small',\n                disabled: disabled\n              },\n              on: {\n                click: () => {\n                  this.showModal(row)\n                }\n              }\n            }, text)\n          }\n        },\n        {\n          title: '延迟',\n          key: 'drcStatus',\n          width: 100,\n          align: 'center',\n          renderHeader: (h, params) => {\n            return h('span', [\n              h('span', '延迟'),\n              this.replicationIds && this.replicationIds.length !== 0 && h('Button', {\n                on: {\n                  click: async () => {\n                    await this.getDelay()\n                  }\n                },\n                props: {\n                  loading: this.delayDataLoading,\n                  size: 'small',\n                  shape: 'circle',\n                  type: 'default',\n                  icon: 'md-refresh'\n                }\n              })\n            ])\n          },\n          render: (h, params) => {\n            const row = params.row\n            let color, text\n            if (row.drcStatus === true) {\n              if (row.delay != null) {\n                console.log(row.delay)\n                text = prettyMilliseconds(row.delay, { compact: true })\n                if (row.delay > 10000) {\n                  color = 'warning'\n                } else {\n                  color = 'success'\n                }\n              } else {\n                text = '已接入'\n                color = 'blue'\n              }\n            } else {\n              text = '未接入'\n              color = 'default'\n            }\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: 'DB 名',\n          key: 'srcDbName',\n          render: (h, params) => {\n            return h('p', params.row.src.dbName)\n          }\n        }\n      ]\n    }\n  },\n  methods: {\n    showModal (row) {\n      console.log('show modal')\n      this.$Message.info('还未上线，敬请期待')\n    },\n    async getDelay () {\n      const param = {\n        replicationIds: this.replicationIds\n      }\n      if (param.replicationIds.length === 0) {\n        console.log('skip delay search')\n        return\n      }\n      this.delayDataLoading = true\n      this.axios.get('/api/drc/v2/replication/db/delay', { params: param })\n        .then(response => {\n          const delays = response.data.data\n          const emptyResult = delays == null || !Array.isArray(delays) || delays.length === 0\n          if (emptyResult) {\n            return\n          }\n          const dataMap = new Map(delays.map(e => [e.srcMha + '->' + e.dstMha + '->' + e.dbName, e.delay]))\n          this.mhaDbReplications.forEach(line => {\n            this.$set(line, 'delay', dataMap.get(line.src.mhaName + '->' + line.dst.mhaName + '->' + line.src.dbName))\n          })\n          console.log('replications', this.mhaDbReplications)\n        })\n        .catch(message => {\n          console.log(message)\n          this.$Message.error('查询延迟异常: ' + message)\n        })\n        .finally(() => {\n          this.delayDataLoading = false\n        })\n    }\n  },\n  computed: {\n    replicationIds () {\n      return this.mhaDbReplications\n        .filter(item => item.drcStatus === true)\n        .map(item => item.id)\n        .join(',')\n    }\n  },\n  created () {\n    this.getDelay()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaDbReplicationPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaDbReplicationPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mhaDbReplicationPanel.vue?vue&type=template&id=f9dd2f80&scoped=true&\"\nimport script from \"./mhaDbReplicationPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./mhaDbReplicationPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9dd2f80\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Collapse v-model=\"value\">\n    <Panel v-for=\"(replication, index) in mhaReplications\"\n           :key=\"replication.srcMha.name +'->'+replication.dstMha.name\"\n           :name=\"String(index)\">\n      {{ replication.srcMha.name + ' -> ' + replication.dstMha.name }}\n      <template #content>\n        <Button icon=\"ios-open-outline\" @click=\"openModal(index)\" style=\"margin-bottom: 10px\"> 打开详情</Button>\n        <mha-db-replication-panel :mha-db-replications=\"replication.mhaDbReplications\"/>\n        <Modal v-model=\"openDetailModal[index]\" width=\"1500px\" :footer-hide=\"true\">\n          <drc-build-v2 ref=\"dbReplicationConfigComponent\" v-if=\"openDetailModal[index]\"\n                        :src-mha-name=\"replication.srcMha.name\"\n                        :src-dc=\"replication.srcMha.dcName\"\n                        :dst-mha-name=\"replication.dstMha.name\"\n                        :dst-dc=\"replication.dstMha.dcName\"\n          />\n        </Modal>\n      </template>\n    </Panel>\n  </Collapse>\n</template>\n\n<script>\nimport MhaDbReplicationPanel from '@/components/v2/dbDrcBuild/mhaDbReplicationPanel.vue'\nimport DrcBuildV2 from '@/views/v2/meta/buildStep/drcBuildV2.vue'\nimport mhaDbReplications from '@/views/v2/meta/mhaDbReplications.vue'\n\nexport default {\n  name: 'mhaReplicationPanel',\n  components: { DrcBuildV2, MhaDbReplicationPanel },\n  props: {\n    mhaReplications: Array\n  },\n  data () {\n    return {\n      value: ['0'],\n      openDetailModal: []\n    }\n  },\n  methods: {\n    openModal (index) {\n      this.$set(this.openDetailModal, index, true)\n    }\n  },\n  created () {\n    this.openDetailModal = Array(mhaDbReplications.length).fill(false)\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaReplicationPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaReplicationPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mhaReplicationPanel.vue?vue&type=template&id=a380256a&scoped=true&\"\nimport script from \"./mhaReplicationPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./mhaReplicationPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a380256a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Row',[(_vm.alertInfo.show)?_c('Alert',{attrs:{\"type\":\"warning\",\"show-icon\":\"\",\"closable\":\"\"},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_vm._v(_vm._s(_vm.alertInfo.message))]},proxy:true}],null,false,3041357252)},[_vm._v(\" \"+_vm._s(_vm.alertInfo.title)+\" \")]):_vm._e(),(_vm.alertInfo.successShow)?_c('Alert',{attrs:{\"type\":\"success\",\"show-icon\":\"\",\"closable\":\"\"},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_vm._v(_vm._s(_vm.alertInfo.message))]},proxy:true}],null,false,3041357252)},[_vm._v(\" \"+_vm._s(_vm.alertInfo.title)+\" \")]):_vm._e(),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Row',{staticStyle:{\"margin-right\":\"20px\"}},[_c('Divider',[_vm._v(\"1. 选择同步方向\")]),_c('Col',{attrs:{\"span\":\"11\"}},[_c('Card',{attrs:{\"bordered\":true},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('Icon',{attrs:{\"type\":\"ios-pin\"}}),_vm._v(\" 源 region \")]},proxy:true}])},[_c('Select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"地域\"},on:{\"on-change\":_vm.afterSwitchRegion},model:{value:(_vm.formItem.srcRegionName),callback:function ($$v) {_vm.$set(_vm.formItem, \"srcRegionName\", $$v)},expression:\"formItem.srcRegionName\"}},_vm._l((_vm.meta.regionOptions),function(region){return _c('Option',{key:region,attrs:{\"value\":region,\"label\":region}},[_vm._v(\" \"+_vm._s(region)+\" \")])}),1)],1)],1),_c('Col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":\"2\"}},[_c('Button',{attrs:{\"size\":\"small\",\"shape\":\"circle\",\"type\":\"default\",\"loading\":_vm.dataLoading},on:{\"click\":_vm.getRegionOptions}},[_vm._v(\" -> \")])],1),_c('Col',{attrs:{\"span\":\"11\"}},[_c('Card',{attrs:{\"bordered\":true},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('Icon',{attrs:{\"type\":\"ios-pin\"}}),_vm._v(\" 目标 region \")]},proxy:true}])},[_c('Select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"地域\"},on:{\"on-change\":_vm.afterSwitchRegion},model:{value:(_vm.formItem.dstRegionName),callback:function ($$v) {_vm.$set(_vm.formItem, \"dstRegionName\", $$v)},expression:\"formItem.dstRegionName\"}},_vm._l((_vm.meta.regionOptions),function(region){return _c('Option',{key:region,attrs:{\"value\":region,\"label\":region}},[_vm._v(\" \"+_vm._s(region)+\" \")])}),1)],1)],1)],1)],1),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Row',[_c('Divider',[_vm._v(\"2. 预览：同步集群\")]),_c('Button',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"type\":\"primary\",\"loading\":_vm.table.dbMhaTableLoading},on:{\"click\":_vm.getDalInfo}},[_vm._v(\" 检查同步集群 \")]),_c('Table',{attrs:{\"size\":\"small\",\"loading\":_vm.table.dbMhaTableLoading,\"stripe\":\"\",\"columns\":_vm.table.dbMhaTableColumn,\"data\":_vm.preCheckMhaReplicationPage,\"border\":\"\"}}),_c('div',[_c('Page',{attrs:{\"transfer\":true,\"total\":_vm.previewDataList.length,\"current\":_vm.table.dbMhaTablePage.current,\"page-size-opts\":_vm.table.dbMhaTablePage.pageSizeOpts,\"page-size\":_vm.table.dbMhaTablePage.size,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function($event){return _vm.$set(_vm.table.dbMhaTablePage, \"current\", $event)},\"on-page-size-change\":function (val) {_vm.table.dbMhaTablePage.size = val}}})],1)],1)],1)],1),_c('Divider'),_c('Button',{attrs:{\"loading\":_vm.dataLoading,\"type\":\"primary\"},on:{\"click\":_vm.createReplication}},[_vm._v(\"提交\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Row>\n      <Alert type=\"warning\" show-icon v-if=\"alertInfo.show\" closable>\n        {{ alertInfo.title }}\n        <template #desc>{{ alertInfo.message }}</template>\n      </Alert>\n      <Alert type=\"success\" show-icon v-if=\"alertInfo.successShow\" closable>\n        {{ alertInfo.title }}\n        <template #desc>{{ alertInfo.message }}</template>\n      </Alert>\n      <Col span=\"12\">\n        <Row style=\"margin-right: 20px\">\n          <Divider>1. 选择同步方向</Divider>\n          <Col span=\"11\">\n            <Card :bordered=\"true\">\n              <template #title>\n                <Icon type=\"ios-pin\"/>\n                源 region\n              </template>\n              <Select filterable clearable v-model=\"formItem.srcRegionName\" placeholder=\"地域\"\n                      @on-change=\"afterSwitchRegion\">\n                <Option v-for=\"region in meta.regionOptions\" :value=\"region\" :key=\"region\" :label=\"region\">\n                  {{ region }}\n                </Option>\n              </Select>\n            </Card>\n          </Col>\n          <Col span=\"2\" style=\"text-align: center\">\n            <Button size=\"small\" shape=\"circle\" type=\"default\" :loading=\"dataLoading\" @click=\"getRegionOptions\">\n              ->\n            </Button>\n          </Col>\n          <Col span=\"11\">\n            <Card :bordered=\"true\">\n              <template #title>\n                <Icon type=\"ios-pin\"/>\n                目标 region\n              </template>\n              <Select filterable clearable v-model=\"formItem.dstRegionName\" placeholder=\"地域\"\n                      @on-change=\"afterSwitchRegion\">\n                <Option v-for=\"region in meta.regionOptions\" :value=\"region\" :key=\"region\" :label=\"region\">\n                  {{ region }}\n                </Option>\n              </Select>\n            </Card>\n          </Col>\n        </Row>\n      </Col>\n      <Col span=\"12\">\n        <Row>\n          <Divider>2. 预览：同步集群</Divider>\n          <Button type=\"primary\" :loading=\"table.dbMhaTableLoading\" @click=\"getDalInfo\" style=\"margin-bottom: 5px\">\n            检查同步集群\n          </Button>\n          <Table size=\"small\" :loading=\"table.dbMhaTableLoading\" stripe :columns=\"table.dbMhaTableColumn\"\n                 :data=\"preCheckMhaReplicationPage\" border></Table>\n          <div>\n            <Page\n              :transfer=\"true\"\n              :total=\"previewDataList.length\"\n              :current.sync=\"table.dbMhaTablePage.current\"\n              :page-size-opts=\"table.dbMhaTablePage.pageSizeOpts\"\n              :page-size=\"table.dbMhaTablePage.size\"\n              show-total\n              show-sizer\n              show-elevator\n              @on-page-size-change=\"(val) => {table.dbMhaTablePage.size = val}\"></Page>\n          </div>\n        </Row>\n      </Col>\n    </Row>\n    <Divider></Divider>\n    <Button @click=\"createReplication\" :loading=\"dataLoading\" type=\"primary\">提交</Button>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'mhaPreview',\n  components: {},\n  props: {\n    dbName: String,\n    existReplicationRegionOptions: Array\n  },\n  emits: ['updated'],\n  data () {\n    return {\n      meta: {\n        regionOptions: [],\n        existReplicationRegionOptions: []\n      },\n      alertInfo: {\n        show: false,\n        successShow: false,\n        title: null,\n        message: null\n      },\n      formItem: {\n        srcRegionName: null,\n        dstRegionName: null\n      },\n      dataLoading: false,\n      constants: {\n        DAL_CLUSTER_MODE: 1\n      },\n      previewDataList: [],\n      table: {\n        dbMhaTableLoading: false,\n        dbMhaTableColumn: [\n          {\n            title: 'DB名',\n            key: 'dbName'\n          },\n          {\n            title: '源集群',\n            key: 'srcMhaName',\n            render: (h, params) => {\n              const row = params.row\n              const mha = row.srcMha\n              if (mha != null) {\n                return h('div', [\n                  h('span', mha.name),\n                  h('span', {\n                    style:\n                      {\n                        float: 'right',\n                        color: '#ababab'\n                      }\n                  }, mha.regionName + '(' + mha.dcName + ')')\n                ])\n              }\n            }\n          },\n          {\n            title: '目标集群',\n            key: 'dstMhaName',\n            render: (h, params) => {\n              const row = params.row\n              const mha = row.dstMha\n              if (mha != null) {\n                return h('div', [\n                  h('span', mha.name),\n                  h('span', {\n                    style:\n                      {\n                        float: 'right',\n                        color: '#ababab'\n                      }\n                  }, mha.regionName + '(' + mha.dcName + ')')\n                ])\n              }\n            }\n          }\n        ],\n        dbMhaTablePage: {\n          total: 0,\n          current: 1,\n          size: 5,\n          pageSizeOpts: [5, 10, 20, 100]\n        }\n      }\n    }\n  },\n  methods: {\n    async getRegionOptions () {\n      this.dataLoading = true\n      this.meta.regionOptions = []\n      await this.axios.get('/api/drc/v2/autoconfig/regionOptions', {\n        params: {\n          mode: this.constants.DAL_CLUSTER_MODE,\n          dbName: this.dbName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          const success = data && response.data.status === 0\n          if (success) {\n            this.meta.regionOptions = data\n            if (data.indexOf(this.formItem.srcRegionName) === -1) {\n              this.formItem.srcRegionName = null\n            }\n            if (data.indexOf(this.formItem.dstRegionName) === -1) {\n              this.formItem.dstRegionName = null\n            }\n          } else {\n            this.formItem.srcRegionName = null\n            this.formItem.dstRegionName = null\n            this.$Message.warning('查询可选地域失败')\n          }\n        })\n        .catch(message => {\n          this.$Message.error('查询可选地域失败: ' + message)\n        })\n        .finally(() => {\n          this.dataLoading = false\n        })\n    },\n    async getDalInfo () {\n      this.previewDataList = []\n      this.table.dbMhaTablePage.current = 1\n      this.table.dbMhaTableLoading = true\n      await this.axios.get('/api/drc/v2/autoconfig/preCheck', {\n        params: {\n          mode: this.constants.DAL_CLUSTER_MODE,\n          dbName: this.dbName,\n          srcRegionName: this.formItem.srcRegionName,\n          dstRegionName: this.formItem.dstRegionName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          const success = data && response.data.status === 0\n          if (success) {\n            this.previewDataList = data\n            console.log('total: ' + this.previewDataList.length)\n            this.$Message.success('同步集群检测成功, 共找到 ' + data.length + ' 个DB')\n          } else {\n            this.$Message.warning('同步集群检测失败：' + response.data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('查询dalcluster异常: ' + message)\n        })\n        .finally(() => {\n          this.table.dbMhaTableLoading = false\n        })\n    },\n    async createReplication () {\n      const params = {\n        srcRegionName: this.formItem.srcRegionName,\n        dstRegionName: this.formItem.dstRegionName,\n        dbName: this.dbName\n      }\n      this.alertInfo.show = false\n      this.alertInfo.successShow = false\n      this.dataLoading = true\n      await this.axios.post('/api/drc/v2/autoconfig/mhaDbReplication/create', params)\n        .then(response => {\n          const data = response.data\n          const success = data.status === 0\n          if (success) {\n            this.alertInfo.successShow = true\n            this.alertInfo.message = null\n            this.alertInfo.title = '提交成功'\n            this.$emit('updated')\n          } else {\n            this.alertInfo.show = true\n            this.alertInfo.title = '提交失败'\n            this.alertInfo.message = data.message\n            this.$Message.warning('提交失败: ' + data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('提交异常: ' + message)\n        })\n        .finally(() => {\n          this.dataLoading = false\n        })\n    },\n    async afterSwitchRegion () {\n    }\n  },\n  computed: {\n    preCheckMhaReplicationPage () {\n      const data = this.previewDataList\n      const start = this.table.dbMhaTablePage.current * this.table.dbMhaTablePage.size - this.table.dbMhaTablePage.size\n      const end = start + this.table.dbMhaTablePage.size\n      return [...data].slice(start, end)\n    }\n  },\n  created () {\n    this.getRegionOptions()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mhaPreview.vue?vue&type=template&id=3043c002&scoped=true&\"\nimport script from \"./mhaPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./mhaPreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3043c002\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/v2/dbDrcBuildV2\">DB粒度 DRC 同步</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\"\n             :style=\"{padding: '10px', background: '#ffffff', margin: '50px 0 111px 185px', zIndex: '1'}\">\n      <Row :gutter=10 align=\"middle\">\n        <Col span=\"18\">\n          <Form :model=\"formItem\" :label-width=\"100\" style=\"margin-right: 20px;margin-top: 10px\">\n            <FormItem label=\"数据库\" :required=true>\n              <Select\n                v-model=\"meta.dbName\"\n                filterable\n                :disabled=\"meta.fixDb\"\n                placeholder=\"请搜索数据库信息\"\n                @on-change=\"selectDb\"\n                :remote-method=\"getExistDb\"\n                :loading=\"dataLoading\">\n                <Option v-for=\"(option, index) in meta.dbOptions\" :value=\"option.dbName\" :key=\"index\">\n                  {{ option.dbName }}\n                </Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"同步方向\" :required=true>\n              <RadioGroup v-model=\"selectedExistReplication\" button-style=\"solid\"\n                          @on-change=\"afterSelectExistReplication\">\n                <Radio v-for=\"items in meta.existReplicationRegionOptions\"\n                       :key=\"items.srcRegionName+' -> '+items.dstRegionName\"\n                       :label=\"items.srcRegionName+' -> '+items.dstRegionName\" border>\n                  {{ items.srcRegionName + ' -> ' + items.dstRegionName }}\n                </Radio>\n              </RadioGroup>\n              <Button type=\"primary\" icon=\"md-add\" ghost @click=\"goToCreateReplication\">新增</Button>\n              <Modal v-model=\"createModal.open\" width=\"1200px\" :footer-hide=\"true\" title=\"创建同步\">\n                <mha-preview v-if=\"createModal.open\" :db-name=\"meta.dbName\" @updated=\"getDrcConfig\"\n                             :exist-replication-region-options=\"meta.existReplicationRegionOptions\"></mha-preview>\n              </Modal>\n            </FormItem>\n            <Divider orientation=\"left\">同步表</Divider>\n            <Card style=\"width:100%\">\n              <tables :table-data=\"drcConfig.logicTableSummaryDtos\" :data-loading=\"configDataLoading\"\n                      :src-region=\"meta.srcRegionName\" :dst-region=\"meta.dstRegionName\" :db-name=\"meta.dbName\"\n                      :db-names=\"drcConfig.dbNames\" @updated=\"getDrcConfig\"\n              />\n            </Card>\n            <Divider orientation=\"left\">同步DB</Divider>\n            <Card style=\"width:100%\">\n              <mha-replication-panel :mha-replications=\"drcConfig.mhaReplications\"/>\n            </Card>\n          </Form>\n        </Col>\n      </Row>\n    </Content>\n  </base-component>\n</template>\n<script>\n\nimport tables from '@/components/v2/dbDrcBuild/tables.vue'\nimport MhaReplicationPanel from '@/components/v2/dbDrcBuild/mhaReplicationPanel.vue'\nimport MhaPreview from '@/components/v2/dbDrcBuild/mhaPreview.vue'\n\nexport default {\n  components: { MhaPreview, MhaReplicationPanel, tables },\n  data () {\n    return {\n      createModal: {\n        open: false\n      },\n      dataLoading: false,\n      configDataLoading: false,\n      selectedExistReplication: this.$route.query.srcRegionName + ' -> ' + this.$route.query.dstRegionName,\n      formItem: {\n        srcRegionName: null,\n        dstRegionName: null\n      },\n      drcConfig: {},\n      meta: {\n        dbName: this.$route.query.dbName,\n        srcRegionName: this.$route.query.srcRegionName,\n        dstRegionName: this.$route.query.dstRegionName,\n        fixDb: this.$route.query.fixDb,\n        regionOptions: [],\n        dbOptions: [],\n        existReplicationRegionOptions: []\n      }\n    }\n  },\n  methods: {\n    getParams: function () {\n      const param = {}\n      param.dbName = this.meta.dbName\n      param.srcRegionName = this.meta.srcRegionName\n      param.dstRegionName = this.meta.dstRegionName\n      return param\n    },\n    async getExistDb (dbName) {\n      if (dbName === null || dbName.length === null || dbName.length <= 0) {\n        return []\n      }\n      const that = this\n      that.dataLoading = true\n      await that.axios.get('/api/drc/v2/autoconfig/getExistDb', {\n        params: {\n          dbName: dbName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          if (data) {\n            that.meta.dbOptions = data\n          } else {\n            that.$Message.warning('查询DB失败')\n          }\n        })\n        .catch(message => {\n          that.$Message.error('查询DB异常: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    async selectDb () {\n      await this.getExistReplicationRegionOptions()\n      await this.getDrcConfig()\n    },\n    async getDrcConfig () {\n      this.createModal.open = false\n      this.resetPath()\n      const params = this.getParams()\n      this.drcConfig = {}\n      if (!params.dbName) {\n        this.$Message.warning('请先填写数据库')\n        return\n      }\n      if (!params.srcRegionName || !params.dstRegionName) {\n        return\n      }\n      if (params.srcRegionName === params.dstRegionName) {\n        return\n      }\n      this.configDataLoading = true\n      await this.axios.get('/api/drc/v2/autoconfig/getDbDrcConfig', {\n        params: {\n          dbName: params.dbName,\n          srcRegionName: params.srcRegionName,\n          dstRegionName: params.dstRegionName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          const success = data && response.data.status === 0\n          if (success) {\n            this.drcConfig = data\n            this.$Message.success('查询DRC配置成功 ')\n          } else {\n            this.$Message.warning('查询失败：' + response.data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('查询异常: ' + message)\n        })\n        .finally(() => {\n          this.configDataLoading = false\n        })\n    },\n    async afterSelectExistReplication () {\n      console.log('afterSelectExistReplication ', this.selectedExistReplication)\n      const ret = this.selectedExistReplication.split('->')\n      this.meta.srcRegionName = ret[0].trim()\n      this.meta.dstRegionName = ret[1].trim()\n      this.getDrcConfig()\n    },\n    async getExistReplicationRegionOptions () {\n      const that = this\n      that.dataLoading = true\n      that.meta.existReplicationRegionOptions = []\n      const params = this.getParams()\n      await that.axios.get('/api/drc/v2/autoconfig/getExistDbReplicationDirections', {\n        params: {\n          dbName: params.dbName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          const success = data && response.data.status === 0\n          if (success) {\n            that.meta.existReplicationRegionOptions = data\n            if (that.meta.existReplicationRegionOptions.length > 0) {\n              that.$Message.success('查询到 ' + that.meta.existReplicationRegionOptions.length + ' 个可选同步方向')\n            }\n          } else {\n            that.meta.srcRegionName = null\n            that.meta.dstRegionName = null\n            that.$Message.warning('查询可选地域失败')\n          }\n        })\n        .catch(message => {\n          that.$Message.error('查询可选地域失败: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    async goToCreateReplication () {\n      this.createModal.open = true\n    },\n    resetPath () {\n      this.$router.replace({\n        query: {\n          dbName: this.meta.dbName,\n          srcRegionName: this.meta.srcRegionName,\n          dstRegionName: this.meta.dstRegionName,\n          fixDb: this.meta.fixDb\n        }\n        // eslint-disable-next-line handle-callback-err\n      }).catch(() => {\n      })\n    },\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    }\n  },\n  computed: {},\n  created () {\n    // this.getRegions()\n    this.axios.get('/api/drc/v2/permission/meta/mhaReplication/modify').then((response) => {\n      if (response.data.status === 403) {\n        this.$router.push('/nopermission')\n        return\n      }\n      if (this.meta.dbName) {\n        this.getExistReplicationRegionOptions()\n        this.getDrcConfig()\n      }\n    })\n  }\n}\n</script>\n\n<style>\n.drawer-footer {\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  border-top: 1px solid #e8e8e8;\n  padding: 10px 16px;\n  text-align: right;\n  background: #fff;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbDrcBuildV2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbDrcBuildV2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dbDrcBuildV2.vue?vue&type=template&id=26ac4a0f&\"\nimport script from \"./dbDrcBuildV2.vue?vue&type=script&lang=js&\"\nexport * from \"./dbDrcBuildV2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dbDrcBuildV2.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n"],"sourceRoot":""}