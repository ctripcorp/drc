{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/views/clusters.vue?cfc7","webpack:///src/views/clusters.vue","webpack:///./src/views/clusters.vue?f3ab","webpack:///./src/views/clusters.vue","webpack:///./node_modules/core-js/internals/dom-iterables.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","fails","METHOD_NAME","argument","method","call","render","_vm","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","staticStyle","width","on","getCluster","model","value","callback","$$v","keyWord","expression","slot","columns","clusters","current","scopedSlots","_u","key","fn","ref","row","index","$event","preCheck","doApply","cluster","$set","minRows","maxRows","total","handleChangeSize","staticRenderFns","name","data","noOnUpdate","noOnUpdateKey","noPkUk","gtidMode","binlogTransactionDependency","approvedTruncatelist","modal","size","computed","methods","that","axios","get","val","$nextTick","console","log","zoneId","$router","push","$Spin","show","h","post","clustername","result","created","component","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-03a611a7.a1641cdd.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/clusters\"}},[_vm._v(\"MHA集群\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{staticStyle:{\"padding\":\"1px 1px\"}},[_c('i-input',{style:({margin:'10px, 0, 0, 0', width: '200px'}),attrs:{\"placeholder\":\"输入MHA集群名称\"},on:{\"input\":_vm.getCluster},model:{value:(_vm.keyWord),callback:function ($$v) {_vm.keyWord=$$v},expression:\"keyWord\"}},[_c('Icon',{attrs:{\"slot\":\"prefix\",\"type\":\"ios-search\"},slot:\"prefix\"})],1),_c('Table',{attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.clusters[_vm.current-1]},scopedSlots:_vm._u([{key:\"drcStatus\",fn:function(ref){return [_c('Tag',{attrs:{\"color\":\"default\"}},[_vm._v(\"未接入\")])]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.preCheck(row, index)}}},[_vm._v(\"预检测\")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.doApply(row, index)}}},[_vm._v(\"显示详情\")]),_c('Modal',{attrs:{\"title\":\"预检测结果\",\"width\":\"900px\"},model:{value:(_vm.cluster.modal),callback:function ($$v) {_vm.$set(_vm.cluster, \"modal\", $$v)},expression:\"cluster.modal\"}},[_c('Form',{staticStyle:{\"width\":\"100%\"}},[_c('FormItem',{attrs:{\"label\":\"不含ON UPDATE的表\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.cluster.noOnUpdate),callback:function ($$v) {_vm.$set(_vm.cluster, \"noOnUpdate\", $$v)},expression:\"cluster.noOnUpdate\"}})],1),_c('FormItem',{attrs:{\"label\":\"ON UPDATE字段未加索引的表\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.cluster.noOnUpdateKey),callback:function ($$v) {_vm.$set(_vm.cluster, \"noOnUpdateKey\", $$v)},expression:\"cluster.noOnUpdateKey\"}})],1),_c('FormItem',{attrs:{\"label\":\"不含PK或者UK的表\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.cluster.noPkUk),callback:function ($$v) {_vm.$set(_vm.cluster, \"noPkUk\", $$v)},expression:\"cluster.noPkUk\"}})],1),_c('FormItem',{attrs:{\"label\":\"GTID_MODE\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.cluster.gtidMode),callback:function ($$v) {_vm.$set(_vm.cluster, \"gtidMode\", $$v)},expression:\"cluster.gtidMode\"}})],1),_c('FormItem',{attrs:{\"label\":\"BINLOG_TRANSACTION_DEPENDENCY\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.cluster.binlogTransactionDependency),callback:function ($$v) {_vm.$set(_vm.cluster, \"binlogTransactionDependency\", $$v)},expression:\"cluster.binlogTransactionDependency\"}})],1),_c('FormItem',{attrs:{\"label\":\"APPROVED TRUNCATE LIST\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.cluster.approvedTruncatelist),callback:function ($$v) {_vm.$set(_vm.cluster, \"approvedTruncatelist\", $$v)},expression:\"cluster.approvedTruncatelist\"}})],1)],1)],1)]}}])}),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin\":\"16px 0\"}},[_c('Page',{attrs:{\"transfer\":true,\"total\":_vm.total,\"current\":_vm.current,\"show-sizer\":\"\"},on:{\"update:current\":function($event){_vm.current=$event},\"on-change\":_vm.getCluster,\"on-page-size-change\":_vm.handleChangeSize}})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/clusters\">MHA集群</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\n      <div style=\"padding: 1px 1px\">\n        <i-input :style=\"{margin:'10px, 0, 0, 0', width: '200px'}\" v-model=\"keyWord\" placeholder=\"输入MHA集群名称\" v-on:input=\"getCluster\">\n          <Icon type=\"ios-search\" slot=\"prefix\" />\n        </i-input>\n        <Table stripe :columns=\"columns\" :data=\"clusters[current-1]\">\n          <template slot-scope=\"{}\" slot=\"drcStatus\">\n            <Tag color=\"default\">未接入</Tag>\n          </template>\n          <template slot-scope=\"{ row, index }\" slot=\"action\">\n            <Button type=\"warning\" size=\"small\" style=\"margin-right: 5px\" @click=\"preCheck(row, index)\">预检测</Button>\n            <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"doApply(row, index)\">显示详情</Button>\n            <Modal\n              v-model=\"cluster.modal\"\n              title=\"预检测结果\"\n              width=\"900px\">\n              <Form style=\"width: 100%\">\n                <FormItem label=\"不含ON UPDATE的表\">\n                  <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"cluster.noOnUpdate\" readonly/>\n                </FormItem>\n                <FormItem label=\"ON UPDATE字段未加索引的表\">\n                  <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"cluster.noOnUpdateKey\" readonly/>\n                </FormItem>\n                <FormItem label=\"不含PK或者UK的表\">\n                  <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"cluster.noPkUk\" readonly/>\n                </FormItem>\n                <FormItem label=\"GTID_MODE\">\n                  <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"cluster.gtidMode\" readonly/>\n                </FormItem>\n                <FormItem label=\"BINLOG_TRANSACTION_DEPENDENCY\">\n                  <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"cluster.binlogTransactionDependency\" readonly/>\n                </FormItem>\n                <FormItem label=\"APPROVED TRUNCATE LIST\">\n                  <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"cluster.approvedTruncatelist\" readonly/>\n                </FormItem>\n              </Form>\n            </Modal>\n          </template>\n        </Table>\n        <div style=\"text-align: center;margin: 16px 0\">\n          <Page\n            :transfer=\"true\"\n            :total=\"total\"\n            :current.sync=\"current\"\n            show-sizer\n            @on-change=\"getCluster\"\n            @on-page-size-change=\"handleChangeSize\"></Page>\n        </div>\n      </div>\n    </Content>\n  </base-component>\n</template>\n\n<script>\nexport default {\n  name: 'Application',\n  data () {\n    return {\n      cluster: {\n        noOnUpdate: '',\n        noOnUpdateKey: '',\n        noPkUk: '',\n        gtidMode: '',\n        binlogTransactionDependency: '',\n        approvedTruncatelist: '',\n        modal: false\n      },\n      columns: [\n        {\n          title: '序号',\n          width: 75,\n          align: 'center',\n          render: (h, params) => {\n            return h(\n              'span',\n              params.index + 1 + (this.current - 1) * this.size\n            )\n          }\n        },\n        {\n          title: '集群名称',\n          key: 'cluster'\n        },\n        {\n          title: '集群区域',\n          key: 'zoneId'\n        },\n        {\n          title: '状态',\n          slot: 'drcStatus',\n          align: 'center'\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          align: 'center'\n        }\n      ],\n      clusters: [],\n      total: 0,\n      current: 1,\n      size: 10,\n      keyWord: ''\n    }\n  },\n  computed: {\n  },\n  methods: {\n    getCluster () {\n      const that = this\n      that.axios.get('/api/drc/v1/mha/mhanames?keyWord=' + this.keyWord)\n        .then(response => {\n          console.log(response)\n          that.total = response.data.data.length\n          let n = 0\n          let temp = []\n          that.clusters = []\n          response.data.data.forEach((item, index) => {\n            if (n === that.size - 1) {\n              temp.push({ cluster: item.cluster, zoneId: item.zoneId })\n              that.clusters.push(temp)\n              n = 0\n              temp = []\n            } else {\n              temp.push({ cluster: item.cluster, zoneId: item.zoneId })\n              n++\n            }\n          })\n          that.clusters.push(temp)\n        })\n    },\n    handleChangeSize (val) {\n      this.size = val\n      this.$nextTick(() => {\n        this.getCluster()\n      })\n    },\n    doApply (row, index) {\n      console.log(row.cluster)\n      let zone = ''\n      switch (row.zoneId) {\n        case '上海欧阳IDC(电信)': zone = 'shaoy'; break\n        case '上海金钟路B栋': zone = 'shajz'; break\n        case '上海日阪IDC(联通)': zone = 'sharb'; break\n        case '上海金桥IDC(联通)': zone = 'shajq'; break\n        case '上海福泉路': zone = 'shafq'; break\n        case '南通星湖大道': zone = 'ntgxh'; break\n      }\n      this.$router.push({ path: '/access', query: { clustername: row.cluster, zoneId: zone } })\n    },\n    preCheck (row, index) {\n      console.log(row.cluster)\n      this.$Spin.show({\n        render: (h) => {\n          return h('div', [\n            h('Icon', {\n              class: 'demo-spin-icon-load',\n              props: {\n                size: 18\n              }\n            }),\n            h('div', '检测中，请稍等...')\n          ])\n        }\n      })\n      this.axios.post('/api/drc/v1/access/precheck', {\n        clustername: row.cluster\n      }).then(response => {\n        const result = response.data.data.result\n        console.log(result)\n        this.cluster.noOnUpdate = result.noOnUpdate\n        this.cluster.noOnUpdateKey = result.noOnUpdateKey\n        this.cluster.noPkUk = result.noPkUk\n        this.cluster.gtidMode = result.gtidMode\n        this.cluster.binlogTransactionDependency = result.binlogTransactionDependency\n        this.cluster.approvedTruncatelist = result.approvedTruncatelist\n        this.$Spin.hide()\n        this.cluster.modal = true\n      })\n    }\n  },\n  created () {\n    this.getCluster()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clusters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clusters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./clusters.vue?vue&type=template&id=0950b862&scoped=true&\"\nimport script from \"./clusters.vue?vue&type=script&lang=js&\"\nexport * from \"./clusters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0950b862\",\n  null\n  \n)\n\nexport default component.exports","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n"],"sourceRoot":""}